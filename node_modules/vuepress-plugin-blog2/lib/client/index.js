import{categoryMap as R}from"@temp/blog/category";import{useRouteLocale as f,usePageFrontmatter as _}from"@vuepress/client";import{ref as y,computed as v}from"vue";import{useRouter as E,useRoute as b}from"vue-router";import{resolveRouteWithRedirect as d}from"vuepress-shared/lib/client";import{typeMap as k}from"@temp/blog/type";const l=y(R),B=(t="")=>{const r=E(),g=b(),i=f();return v(()=>{var p;const m=t||((p=_().value.blog)==null?void 0:p.key)||"",u=r.getRoutes();if(!l.value[m])throw new Error(`useBlogCategory: ${t?`key ${t} is invalid`:"can not bind to an exisiting key on non blog pages"}`);const n=l.value[m][i.value],e={path:n.path,map:{}};for(const a in n.map){const o=n.map[a];e.map[a]={path:o.path,items:[]};for(const M of o.keys){const h=u.find(({name:s})=>s===M);if(h){const s=d(r,h.path);e.map[a].items.push({path:s.path,info:BLOG_META_SCOPE===""?s.meta:s.meta[BLOG_META_SCOPE]})}}g.path===o.path&&(e.currentItems=e.map[a].items)}return e})};(import.meta.webpackHot||import.meta.hot)&&(__VUE_HMR_RUNTIME__.updateBlogCategory=t=>{l.value=t});const c=y(k),T=(t="")=>{const r=E(),g=f();return v(()=>{var i;const p=t||((i=_().value.blog)==null?void 0:i.key)||"";if(!c.value[p])throw new Error(`useBlogType: ${t?`key ${t} is invalid`:"can not bind to an exisiting key on non blog pages"}`);const m=r.getRoutes(),u=c.value[p][g.value],n={path:u.path,items:[]};for(const e of u.keys){const a=m.find(({name:o})=>o===e);if(a){const o=d(r,a.path);n.items.push({path:o.path,info:BLOG_META_SCOPE===""?o.meta:o.meta[BLOG_META_SCOPE]})}}return n})};(import.meta.webpackHot||import.meta.hot)&&(__VUE_HMR_RUNTIME__.updateBlogType=t=>{c.value=t});export{l as blogCategoryMap,c as blogTypeMap,B as useBlogCategory,T as useBlogType};
//# sourceMappingURL=index.js.map
