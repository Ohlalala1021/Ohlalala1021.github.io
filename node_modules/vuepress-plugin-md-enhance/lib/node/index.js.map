{"version":3,"file":"index.js","sources":["../../src/node/utils.ts","../../src/node/checkLink.ts","../../src/node/compact/utils.ts","../../src/node/compact/convert.ts","../../src/node/markdown-it/container.ts","../../src/node/markdown-it/align.ts","../../src/node/markdown-it/attrs.ts","../../src/node/markdown-it/chart.ts","../../src/node/markdown-it/codeDemo.ts","../../src/node/markdown-it/tabs.ts","../../src/node/markdown-it/codeTabs.ts","../../src/node/markdown-it/echarts.ts","../../src/node/markdown-it/flowchart.ts","../../src/node/markdown-it/footnote.ts","../../src/node/markdown-it/hint.ts","../../src/node/markdown-it/imageMark.ts","../../src/node/markdown-it/imageSize.ts","../../src/node/markdown-it/tex.ts","../../src/node/markdown-it/utils.ts","../../src/node/markdown-it/katex.ts","../../src/node/markdown-it/mathjax.ts","../../src/node/markdown-it/lazyLoad.ts","../../src/node/markdown-it/mark.ts","../../src/node/markdown-it/include.ts","../../src/node/markdown-it/mermaid.ts","../../src/node/markdown-it/playground/plugin.ts","../../src/node/markdown-it/playground/ventors/lzstring.ts","../../src/node/markdown-it/playground/ventors/optionDelcarations.ts","../../src/node/markdown-it/playground/ts.ts","../../src/node/markdown-it/playground/vue.ts","../../src/node/markdown-it/uml.ts","../../src/node/markdown-it/presentation.ts","../../src/node/markdown-it/sub.ts","../../src/node/markdown-it/sup.ts","../../src/node/markdown-it/tasklist.ts","../../src/node/markdown-it/vPre.ts","../../src/node/markdown-it/stylize.ts","../../src/node/markdown-it/vuePlayground.ts","../../src/node/compact/codeDemo.ts","../../src/node/compact/codeGroup.ts","../../src/node/compact/flowchart.ts","../../src/node/locales.ts","../../src/node/prepare.ts","../../src/node/plugin.ts"],"sourcesContent":["import { Logger } from \"vuepress-shared\";\n\nexport const MATHML_TAGS = [\n  \"math\",\n  \"maction\",\n  \"maligngroup\",\n  \"malignmark\",\n  \"menclose\",\n  \"merror\",\n  \"mfenced\",\n  \"mfrac\",\n  \"mglyph\",\n  \"mi\",\n  \"mlabeledtr\",\n  \"mlongdiv\",\n  \"mmutiscripts\",\n  \"mn\",\n  \"mo\",\n  \"mover\",\n  \"mpadded\",\n  \"mphantom\",\n  \"mroot\",\n  \"mrow\",\n  \"ms\",\n  \"mscarries\",\n  \"mscarry\",\n  \"msgroup\",\n  \"msline\",\n  \"mspace\",\n  \"msqrt\",\n  \"msrow\",\n  \"mstack\",\n  \"mstyle\",\n  \"msub\",\n  \"msup\",\n  \"msubsup\",\n  \"mtable\",\n  \"mtd\",\n  \"mtext\",\n  \"mtr\",\n  \"munder\",\n  \"munderover\",\n  \"semantics\",\n  \"annotation\",\n  \"annotation-xml\",\n];\n\nexport const logger = new Logger(\"vuepress-plugin-md-enhance\");\n","import { logger } from \"@vuepress/utils\";\n\nimport type { App, Page } from \"@vuepress/core\";\nimport type { MarkdownEnhanceOptions } from \"../shared/index.js\";\n\nexport const getCheckLinksStatus = (\n  app: App,\n  options: Partial<MarkdownEnhanceOptions>\n): boolean => {\n  const { linkCheck = \"dev\" } = options;\n\n  return typeof linkCheck === \"boolean\"\n    ? linkCheck\n    : // always check\n      linkCheck === \"always\" ||\n        // enable in dev\n        (app.env.isDev && linkCheck === \"dev\") ||\n        // enabled in build\n        (app.env.isBuild && linkCheck === \"build\") ||\n        false;\n};\n\nexport const checkLinks = (page: Page, app: App): void => {\n  const path = page.filePathRelative || page.path;\n  const { pages } = app;\n\n  const markdownLinks = page.links.filter(({ raw }) =>\n    raw.match(/.md((?:\\?|#).*)?$/)\n  );\n\n  const brokenLinks = [\n    ...markdownLinks\n      // relative markdown links\n      .filter(({ raw }) => !raw.startsWith(\"/\"))\n      .filter(({ relative }) =>\n        // check whether the page exists\n        pages.every(({ filePathRelative }) => filePathRelative !== relative)\n      ),\n    ...markdownLinks\n      // absolute markdown links\n      .filter(({ raw }) => raw.startsWith(\"/\"))\n      .filter(({ absolute }) =>\n        // check whether the page exists\n        pages.every(\n          ({ filePathRelative }) =>\n            !filePathRelative ||\n            `${app.options.base}${filePathRelative}` !== absolute\n        )\n      ),\n  ].map(({ raw }) => raw);\n\n  if (brokenLinks.length)\n    logger.warn(`Broken links found in ${path}: ${brokenLinks.join(\", \")}`);\n};\n","import { logger } from \"../utils.js\";\n\nexport interface DeprecatedLoggerOptions {\n  options: Record<string, unknown>;\n  deprecatedOption: string;\n  newOption: string;\n  msg?: string;\n  scope?: string;\n}\n\nexport const deprecatedLogger = ({\n  options,\n  deprecatedOption,\n  newOption,\n  msg = \"\",\n  scope = \"\",\n}: DeprecatedLoggerOptions): void => {\n  if (deprecatedOption in options) {\n    logger.warn(\n      `\"${deprecatedOption}\" is deprecated${\n        scope ? ` in ${scope}` : \"\"\n      }, please use \"${newOption}\" instead.${msg ? `\\n${msg}` : \"\"}`\n    );\n\n    if (newOption.includes(\".\")) {\n      const keys = newOption.split(\".\");\n      let temp = options;\n\n      keys.forEach((key, index) => {\n        if (index !== keys.length - 1) {\n          // ensure level exists\n          temp[key] = temp[key] || {};\n\n          temp = temp[key] as Record<string, unknown>;\n        } else temp[key] = options[deprecatedOption];\n      });\n    } else options[newOption] = options[deprecatedOption];\n\n    delete options[deprecatedOption];\n  }\n};\n\nexport const droppedLogger = (\n  options: Record<string, unknown>,\n  droppedOption: string,\n  hint = \"\",\n  newOption = \"\"\n): void => {\n  if (droppedOption in options) {\n    logger.error(\n      `\"${droppedOption}\" is removed${\n        newOption\n          ? `, please use ${newOption} instead.`\n          : \" and no longer supported\"\n      }${hint ? `\\n${hint}` : \"\"}`\n    );\n\n    if (!newOption) delete options[droppedOption];\n  }\n};\n","import { deprecatedLogger, droppedLogger } from \"./utils.js\";\nimport type { MarkdownEnhanceOptions } from \"../../shared/index.js\";\n\n/** @deprecated */\nexport const convertOptions = (\n  options: MarkdownEnhanceOptions & Record<string, unknown>\n): void => {\n  deprecatedLogger({\n    options,\n    deprecatedOption: \"codegroup\",\n    newOption: \"codetabs\",\n  });\n  deprecatedLogger({\n    options,\n    deprecatedOption: \"mdImport\",\n    newOption: \"include\",\n  });\n  deprecatedLogger({\n    options,\n    deprecatedOption: \"tex\",\n    newOption: \"katex\",\n  });\n\n  droppedLogger(options, \"enableAll\");\n  droppedLogger(options, \"lineNumbers\");\n  droppedLogger(options, \"imageFix\");\n};\n","/**\n * Forked and modifyed from https://github.com/markdown-it/markdown-it-container/blob/master/index.js\n *\n * Copyright (c) 2015 Vitaly Puzrin, Alex Kocharin.\n *\n * Permission is hereby granted, free of charge, to any person\n * obtaining a copy of this software and associated documentation\n * files (the \"Software\"), to deal in the Software without\n * restriction, including without limitation the rights to use,\n * copy, modify, merge, publish, distribute, sublicense, and/or sell\n * copies of the Software, and to permit persons to whom the\n * Software is furnished to do so, subject to the following\n * conditions:\n *\n * The above copyright notice and this permission notice shall be\n * included in all copies or substantial portions of the Software.\n *\n * THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND,\n * EXPRESS OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES\n * OF MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND\n * NONINFRINGEMENT. IN NO EVENT SHALL THE AUTHORS OR COPYRIGHT\n * HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER LIABILITY,\n * WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING\n * FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR\n * OTHER DEALINGS IN THE SOFTWARE.\n */\n\nimport type { MarkdownEnv } from \"@vuepress/markdown\";\nimport type { Options, PluginWithOptions } from \"markdown-it\";\nimport type { default as Token } from \"markdown-it/lib/token.js\";\nimport type {\n  default as Renderer,\n  RenderRule,\n} from \"markdown-it/lib/renderer.js\";\nimport type { RuleBlock } from \"markdown-it/lib/parser_block.js\";\n\nexport interface MarkdownItContainerOptions {\n  /** container name */\n  name: string;\n  /** container marker */\n  marker?: string;\n  /** validate whether this should be regarded as a container */\n  validate?: (params: string, markup: string) => boolean;\n  /** open tag render function */\n  openRender?: RenderRule;\n  /** close tag render function */\n  closeRender?: RenderRule;\n}\n\nexport const container: PluginWithOptions<MarkdownItContainerOptions> = (\n  md,\n  {\n    name,\n    marker = \":\",\n    validate = (params: string): boolean =>\n      params.trim().split(\" \", 2)[0] === name,\n    openRender = (\n      tokens: Token[],\n      index: number,\n      options: Options,\n      _env: MarkdownEnv,\n      slf: Renderer\n    ): string => {\n      // add a class to the opening tag\n      tokens[index].attrJoin(\"class\", name);\n\n      return slf.renderToken(tokens, index, options);\n    },\n    closeRender = (\n      tokens: Token[],\n      index: number,\n      options: Options,\n      _env: MarkdownEnv,\n      slf: Renderer\n    ): string => slf.renderToken(tokens, index, options),\n  } = { name: \"\" }\n) => {\n  const MIN_MARKER_NUM = 3;\n  const markerStart = marker[0];\n  const markerLength = marker.length;\n\n  const container: RuleBlock = (state, startLine, endLine, silent) => {\n    let start = state.bMarks[startLine] + state.tShift[startLine];\n    let max = state.eMarks[startLine];\n\n    // Check out the first character quickly,\n    // this should filter out most of non-containers\n    //\n    if (markerStart !== state.src[start]) return false;\n\n    let pos = start + 1;\n\n    // Check out the rest of the marker string\n    while (pos <= max) {\n      if (marker[(pos - start) % markerLength] !== state.src[pos]) break;\n      pos += 1;\n    }\n\n    const markerCount = Math.floor((pos - start) / markerLength);\n\n    if (markerCount < MIN_MARKER_NUM) return false;\n\n    pos -= (pos - start) % markerLength;\n\n    const markup = state.src.slice(start, pos);\n    const params = state.src.slice(pos, max);\n\n    if (!validate(params, markup)) return false;\n\n    // Since start is found, we can report success here in validation mode\n\n    if (silent) return true;\n\n    let nextLine = startLine;\n    let autoClosed = false;\n\n    // Search for the end of the block\n    while (\n      // unclosed block should be autoclosed by end of document.\n      // also block seems to be autoclosed by end of parent\n      nextLine < endLine\n    ) {\n      nextLine += 1;\n      start = state.bMarks[nextLine] + state.tShift[nextLine];\n      max = state.eMarks[nextLine];\n\n      if (start < max && state.sCount[nextLine] < state.blkIndent)\n        // non-empty line with negative indent should stop the list:\n        // - ```\n        //  test\n        break;\n\n      if (\n        // match start\n        markerStart === state.src[start] &&\n        // closing fence should be indented less than 4 spaces\n        state.sCount[nextLine] - state.blkIndent < 4\n      ) {\n        // check rest of marker\n        for (pos = start + 1; pos <= max; pos++)\n          if (marker[(pos - start) % markerLength] !== state.src[pos]) break;\n\n        // closing code fence must be at least as long as the opening one\n        if (Math.floor((pos - start) / markerLength) >= markerCount) {\n          // make sure tail has spaces only\n          pos -= (pos - start) % markerLength;\n          pos = state.skipSpaces(pos);\n\n          if (pos >= max) {\n            // found!\n            autoClosed = true;\n            break;\n          }\n        }\n      }\n    }\n\n    const oldParent = state.parentType;\n    const oldLineMax = state.lineMax;\n\n    // eslint-disable-next-line @typescript-eslint/ban-ts-comment\n    // @ts-expect-error\n    state.parentType = \"container\";\n\n    // this will prevent lazy continuations from ever going past our end marker\n    state.lineMax = nextLine;\n\n    const openToken = state.push(`container_${name}_open`, \"div\", 1);\n\n    openToken.markup = markup;\n    openToken.block = true;\n    openToken.info = params;\n    openToken.map = [startLine, nextLine];\n\n    state.md.block.tokenize(state, startLine + 1, nextLine);\n\n    const closeToken = state.push(`container_${name}_close`, \"div\", -1);\n\n    closeToken.markup = state.src.slice(start, pos);\n    closeToken.block = true;\n\n    state.parentType = oldParent;\n    state.lineMax = oldLineMax;\n    state.line = nextLine + (autoClosed ? 1 : 0);\n\n    return true;\n  };\n\n  md.block.ruler.before(\"fence\", `container_${name}`, container, {\n    alt: [\"paragraph\", \"reference\", \"blockquote\", \"list\"],\n  });\n  md.renderer.rules[`container_${name}_open`] = openRender;\n  md.renderer.rules[`container_${name}_close`] = closeRender;\n};\n","import { container } from \"./container.js\";\n\nimport type { PluginSimple } from \"markdown-it\";\n\nexport const align: PluginSimple = (md) => {\n  [\"left\", \"center\", \"right\", \"justify\"].forEach((name) =>\n    md.use((md) =>\n      container(md, {\n        name,\n        openRender: () => `<div style=\"text-align:${name}\">\\n`,\n      })\n    )\n  );\n};\n","/**\n * Forked and modified from https://github.com/arve0/markdown-it-attrs/\n * The MIT License (MIT)\n *\n * Copyright (c) Arve Seljebu <arve.seljebu@gmail.com> (arve0.github.io)\n *\n * Permission is hereby granted, free of charge, to any person obtaining a copy\n * of this software and associated documentation files (the \"Software\"), to deal\n * in the Software without restriction, including without limitation the rights\n * to use, copy, modify, merge, publish, distribute, sublicense, and/or sell\n * copies of the Software, and to permit persons to whom the Software is\n * furnished to do so, subject to the following conditions:\n *\n * The above copyright notice and this permission notice shall be included in\n * all copies or substantial portions of the Software.\n *\n * THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR\n * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,\n * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE\n * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER\n * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,\n * OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN\n * THE SOFTWARE.\n */\n\nimport type { PluginWithOptions } from \"markdown-it\";\nimport type { default as Token } from \"markdown-it/lib/token.js\";\nimport type { RuleCore } from \"markdown-it/lib/parser_core.js\";\nimport type { AttrsOptions } from \"../../shared/index.js\";\n\ntype Attr = [key: string, value: string];\n\n// not tab, line feed, form feed, space, solidus, greater than sign, quotation mark, apostrophe and equals sign\nconst ALLOWED_KEY_CHARS = /[^\\t\\n\\f />\"'=]/;\nconst PAIR_SPERATOR = \" \";\nconst KEY_SPERATOR = \"=\";\nconst CLASS_MARKER = \".\";\nconst ID_MARKER = \"#\";\n\nexport const getAttrs = (\n  str: string,\n  start: number,\n  { left, right, allowed }: Required<AttrsOptions>\n): Attr[] => {\n  let key = \"\";\n  let value = \"\";\n  let parsingKey = true;\n  let valueInsideQuotes = false;\n\n  const attrs: Attr[] = [];\n\n  // read inside {}\n  // start + left delimiter length to avoid beginning {\n  // breaks when } is found or end of string\n  for (let index = start + left.length; index < str.length; index++) {\n    if (str.slice(index, index + right.length) === right) {\n      if (key !== \"\") attrs.push([key, value]);\n      break;\n    }\n\n    const char = str.charAt(index);\n\n    // switch to reading value if equal sign\n    if (char === KEY_SPERATOR && parsingKey) {\n      parsingKey = false;\n      continue;\n    }\n\n    // {.class} {..css-module}\n    if (char === CLASS_MARKER && key === \"\") {\n      if (str.charAt(index + 1) === CLASS_MARKER) {\n        key = \"css-module\";\n        index += 1;\n      } else key = \"class\";\n\n      parsingKey = false;\n      continue;\n    }\n\n    // {#id}\n    if (char === ID_MARKER && key === \"\") {\n      key = \"id\";\n      parsingKey = false;\n      continue;\n    }\n\n    // {value=\"inside quotes\"}\n    if (char === '\"' && value === \"\") {\n      valueInsideQuotes = true;\n      continue;\n    }\n\n    if (char === '\"' && valueInsideQuotes) {\n      valueInsideQuotes = false;\n      continue;\n    }\n\n    // read next key/value pair\n    if (char === PAIR_SPERATOR && !valueInsideQuotes) {\n      if (key === \"\") {\n        // beginning or ending space: { .red } vs {.red}\n        continue;\n      }\n\n      attrs.push([key, value]);\n      key = \"\";\n      value = \"\";\n      parsingKey = true;\n\n      continue;\n    }\n\n    // continue if character not allowed\n    if (parsingKey && char.search(ALLOWED_KEY_CHARS) === -1) continue;\n\n    // no other conditions met; append to key/value\n    if (parsingKey) {\n      key += char;\n      continue;\n    }\n\n    value += char;\n  }\n\n  return allowed.length\n    ? attrs.filter(([attr]) =>\n        allowed.some((item) =>\n          item instanceof RegExp ? item.test(attr) : item === attr\n        )\n      )\n    : attrs;\n};\n\nconst addAttrs = (attrs: Attr[], token: Token | null): void => {\n  if (token)\n    attrs.forEach((attrItem) => {\n      const [key, value] = attrItem;\n\n      if (key === \"class\") token.attrJoin(\"class\", value);\n      else if (key === \"css-module\") token.attrJoin(\"css-module\", value);\n      else token.attrPush(attrItem);\n    });\n};\n\nconst hasDelimiters =\n  (\n    where: \"start\" | \"end\" | \"only\",\n    { left, right }: Required<AttrsOptions>\n  ): ((str: string) => boolean) =>\n  (str: string): boolean => {\n    const leftLength = left.length;\n    const rightLength = right.length;\n    // we need minimum three chars, for example {b}\n    const minCurlyLength = leftLength + 1 + rightLength;\n\n    if (!str || typeof str !== \"string\" || str.length < minCurlyLength)\n      return false;\n\n    const validCurlyLength = (curly: string): boolean => {\n      const isClass = curly.charAt(leftLength) === \".\";\n      const isId = curly.charAt(leftLength) === \"#\";\n\n      return isClass || isId\n        ? curly.length >= minCurlyLength + 1\n        : curly.length >= minCurlyLength;\n    };\n\n    let start, end, slice, nextChar;\n    const rightDelimiterMinimumShift = minCurlyLength - rightLength;\n\n    switch (where) {\n      case \"start\":\n        // first char should be {, } found in char 2 or more\n        slice = str.slice(0, leftLength);\n        start = slice === left ? 0 : -1;\n        end =\n          start === -1 ? -1 : str.indexOf(right, rightDelimiterMinimumShift);\n        // check if next character is not one of the delimiters\n        nextChar = str.charAt(end + rightLength);\n        if (nextChar && right.indexOf(nextChar) !== -1) end = -1;\n        break;\n\n      case \"end\":\n        // last char should be }\n        start = str.lastIndexOf(left);\n        end =\n          start === -1\n            ? -1\n            : str.indexOf(right, start + rightDelimiterMinimumShift);\n        end = end === str.length - rightLength ? end : -1;\n        break;\n\n      case \"only\":\n        // '{.a}'\n        slice = str.slice(0, leftLength);\n        start = slice === left ? 0 : -1;\n        slice = str.slice(str.length - rightLength);\n        end = slice === right ? str.length - rightLength : -1;\n        break;\n    }\n\n    return (\n      start !== -1 &&\n      end !== -1 &&\n      validCurlyLength(str.substring(start, end + rightLength))\n    );\n  };\n\nconst removeDelimiter = (\n  str: string,\n  { left, right }: Required<AttrsOptions>\n): string => {\n  const start = escapeRegExp(left);\n  const end = escapeRegExp(right);\n  const pos = str.search(\n    new RegExp(`[ \\\\n]?${start}[^${start}${end}]+${end}$`)\n  );\n\n  return pos !== -1 ? str.slice(0, pos) : str;\n};\n\nconst getMatchingOpeningToken = (tokens: Token[], i: number): Token | null => {\n  if (tokens[i].type === \"softbreak\") return null;\n\n  // non closing blocks, example img\n  if (tokens[i].nesting === 0) return tokens[i];\n\n  const level = tokens[i].level;\n  const type = tokens[i].type.replace(\"_close\", \"_open\");\n\n  for (; i >= 0; --i)\n    if (tokens[i].type === type && tokens[i].level === level) return tokens[i];\n\n  return null;\n};\n\n/**\n * Get n item of array. Supports negative n, where -1 is last\n * element in array.\n */\nconst getElement = <T>(arr: T[], n: number): T =>\n  n >= 0 ? arr[n] : arr[arr.length + n];\n\nconst isArrayOfObjects = (arr: unknown): arr is object[] =>\n  Array.isArray(arr) &&\n  Boolean(arr.length) &&\n  arr.every((item) => typeof item === \"object\");\n\n// eslint-disable-next-line @typescript-eslint/ban-types\nconst isArrayOfFunctions = (arr: unknown): arr is Function[] =>\n  Array.isArray(arr) &&\n  Boolean(arr.length) &&\n  arr.every((item) => typeof item === \"function\");\n\n/**\n * Escapes special characters in string s such that the string\n * can be used in `new RegExp`. For example \"[\" becomes \"\\\\[\".\n */\nconst escapeRegExp = (regexp: string): string =>\n  regexp.replace(/[-/\\\\^$*+?.()|[\\]{}]/g, \"\\\\$&\");\n\ninterface RuleSet {\n  position?: number;\n  shift?: number;\n  type?: string | ((type: string) => boolean);\n  block?: boolean;\n  info?: boolean | ((info: string) => boolean);\n  content?: boolean | ((content: string) => boolean);\n  nesting?: 0 | 1 | -1;\n  children?: RuleSet[] | ((children: unknown[]) => boolean);\n}\n\ninterface Rule {\n  name: string;\n  tests: RuleSet[];\n  transform: (tokens: Token[], index: number, subIndex: number) => void;\n}\n\nconst patternsConfig = (options: Required<AttrsOptions>): Rule[] => [\n  /**\n   * ```python {.cls}\n   * for i in range(10):\n   *     print(i)\n   * ```\n   */\n  {\n    name: \"fenced code blocks\",\n    tests: [\n      {\n        shift: 0,\n        block: true,\n        info: hasDelimiters(\"end\", options),\n      },\n    ],\n    transform: (tokens, index): void => {\n      const token = tokens[index];\n      let lineNumber = \"\";\n\n      const results = token.info.match(/{(?:[\\d,-]+)}/);\n\n      if (results) {\n        token.info = token.info.replace(results[0], \"\");\n        lineNumber = results[0];\n      }\n\n      const start = token.info.lastIndexOf(options.left);\n      const attrs = getAttrs(token.info, start, options);\n\n      addAttrs(attrs, token);\n      token.info = `${removeDelimiter(token.info, options)} ${lineNumber}`;\n    },\n  },\n\n  /**\n   * bla `click()`{.c} ![](img.png){.d}\n   *\n   * differs from 'inline attributes' as it does\n   * not have a closing tag (nesting: -1)\n   */\n  {\n    name: \"inline nesting 0\",\n    tests: [\n      {\n        shift: 0,\n        type: \"inline\",\n        children: [\n          {\n            shift: -1,\n            type: (str) => str === \"image\" || str === \"code_inline\",\n          },\n          {\n            shift: 0,\n            type: \"text\",\n            content: hasDelimiters(\"start\", options),\n          },\n        ],\n      },\n    ],\n    transform: (tokens, index, childIndex): void => {\n      const token = tokens[index].children![childIndex];\n\n      const endChar = token.content.indexOf(options.right);\n      const attrToken = tokens[index].children![childIndex - 1];\n      const attrs = getAttrs(token.content, 0, options);\n\n      addAttrs(attrs, attrToken);\n      if (token.content.length === endChar + options.right.length)\n        tokens[index].children!.splice(childIndex, 1);\n      else token.content = token.content.slice(endChar + options.right.length);\n    },\n  },\n\n  /**\n   * | h1 |\n   * | -- |\n   * | c1 |\n   *\n   * {.c}\n   */\n  {\n    name: \"tables\",\n    tests: [\n      {\n        // let this token be i, such that for-loop continues at\n        // next token after tokens.splice\n        shift: 0,\n        type: \"table_close\",\n      },\n      {\n        shift: 1,\n        type: \"paragraph_open\",\n      },\n      {\n        shift: 2,\n        type: \"inline\",\n        content: hasDelimiters(\"only\", options),\n      },\n    ],\n    transform: (tokens, index): void => {\n      const token = tokens[index + 2];\n      const tableOpen = getMatchingOpeningToken(tokens, index);\n      const attrs = getAttrs(token.content, 0, options);\n\n      // add attributes\n      addAttrs(attrs, tableOpen);\n      // remove <p>{.c}</p>\n      tokens.splice(index + 1, 3);\n    },\n  },\n\n  /**\n   * *emphasis*{.with attrs=1}\n   */\n  {\n    name: \"inline attributes\",\n    tests: [\n      {\n        shift: 0,\n        type: \"inline\",\n        children: [\n          {\n            shift: -1,\n            nesting: -1, // closing inline tag, </em>{.a}\n          },\n          {\n            shift: 0,\n            type: \"text\",\n            content: hasDelimiters(\"start\", options),\n          },\n        ],\n      },\n    ],\n    transform: (tokens, index, childIndex): void => {\n      const token = tokens[index].children![childIndex];\n      const { content } = token;\n      const attrs = getAttrs(content, 0, options);\n      const openingToken = getMatchingOpeningToken(\n        tokens[index].children!,\n        childIndex - 1\n      );\n\n      addAttrs(attrs, openingToken);\n      token.content = content.slice(\n        content.indexOf(options.right) + options.right.length\n      );\n    },\n  },\n\n  /**\n   * - item\n   * {.a}\n   */\n  {\n    name: \"list softbreak\",\n    tests: [\n      {\n        shift: -2,\n        type: \"list_item_open\",\n      },\n      {\n        shift: 0,\n        type: \"inline\",\n        children: [\n          {\n            position: -2,\n            type: \"softbreak\",\n          },\n          {\n            position: -1,\n            type: \"text\",\n            content: hasDelimiters(\"only\", options),\n          },\n        ],\n      },\n    ],\n    transform: (tokens, indx, childIndex): void => {\n      const token = tokens[indx].children![childIndex];\n      const attrs = getAttrs(token.content, 0, options);\n      let ii = indx - 2;\n\n      while (\n        tokens[ii - 1] &&\n        tokens[ii - 1].type !== \"ordered_list_open\" &&\n        tokens[ii - 1].type !== \"bullet_list_open\"\n      ) {\n        ii--;\n      }\n      addAttrs(attrs, tokens[ii - 1]);\n      tokens[indx].children = tokens[indx].children!.slice(0, -2);\n    },\n  },\n\n  /**\n   * - nested list\n   *   - with double \\n\n   *   {.a} <-- apply to nested ul\n   *\n   * {.b} <-- apply to root <ul>\n   */\n  {\n    name: \"list double softbreak\",\n    tests: [\n      {\n        // let this token be i = 0 so that we can erase\n        // the <p>{.a}</p> tokens below\n        shift: 0,\n        type: (type) =>\n          type === \"bullet_list_close\" || type === \"ordered_list_close\",\n      },\n      {\n        shift: 1,\n        type: \"paragraph_open\",\n      },\n      {\n        shift: 2,\n        type: \"inline\",\n        content: hasDelimiters(\"only\", options),\n        children: (children) => children.length === 1,\n      },\n      {\n        shift: 3,\n        type: \"paragraph_close\",\n      },\n    ],\n    transform: (tokens, index): void => {\n      const token = tokens[index + 2];\n      const attrs = getAttrs(token.content, 0, options);\n      const openingToken = getMatchingOpeningToken(tokens, index);\n\n      addAttrs(attrs, openingToken);\n      tokens.splice(index + 1, 3);\n    },\n  },\n\n  /**\n   * - end of {.list-item}\n   */\n  {\n    name: \"list item end\",\n    tests: [\n      {\n        shift: -2,\n        type: \"list_item_open\",\n      },\n      {\n        shift: 0,\n        type: \"inline\",\n        children: [\n          {\n            position: -1,\n            type: \"text\",\n            content: hasDelimiters(\"end\", options),\n          },\n        ],\n      },\n    ],\n    transform: (tokens, index, childIndex): void => {\n      const token = tokens[index].children![childIndex];\n      const { content } = token;\n      const attrs = getAttrs(\n        content,\n        content.lastIndexOf(options.left),\n        options\n      );\n\n      addAttrs(attrs, tokens[index - 2]);\n\n      const trimmed = content.slice(0, content.lastIndexOf(options.left));\n\n      token.content =\n        trimmed[trimmed.length - 1] === \" \" ? trimmed.slice(0, -1) : trimmed;\n    },\n  },\n\n  /**\n   * something with softbreak\n   * {.cls}\n   */\n  {\n    name: \"\\n{.a} softbreak then curly in start\",\n    tests: [\n      {\n        shift: 0,\n        type: \"inline\",\n        children: [\n          {\n            position: -2,\n            type: \"softbreak\",\n          },\n          {\n            position: -1,\n            type: \"text\",\n            content: hasDelimiters(\"only\", options),\n          },\n        ],\n      },\n    ],\n    transform: (tokens, index, childIndex): void => {\n      const token = tokens[index].children![childIndex];\n      const attrs = getAttrs(token.content, 0, options);\n\n      // find last closing tag\n      let ii = index + 1;\n\n      while (tokens[ii + 1] && tokens[ii + 1].nesting === -1) ii++;\n\n      const openingToken = getMatchingOpeningToken(tokens, ii);\n\n      addAttrs(attrs, openingToken);\n      tokens[index].children = tokens[index].children!.slice(0, -2);\n    },\n  },\n\n  /**\n   * horizontal rule --- {#id}\n   */\n  {\n    name: \"horizontal rule\",\n    tests: [\n      {\n        shift: 0,\n        type: \"paragraph_open\",\n      },\n      {\n        shift: 1,\n        type: \"inline\",\n        children: (children) => children.length === 1,\n        content: (content) =>\n          content.match(\n            new RegExp(\n              `^ {0,3}[-*_]{3,} ?${escapeRegExp(options.left)}[^${escapeRegExp(\n                options.right\n              )}]`\n            )\n          ) !== null,\n      },\n      {\n        shift: 2,\n        type: \"paragraph_close\",\n      },\n    ],\n    transform: (tokens, index): void => {\n      const token = tokens[index];\n\n      token.type = \"hr\";\n      token.tag = \"hr\";\n      token.nesting = 0;\n\n      const { content } = tokens[index + 1];\n      const start = content.lastIndexOf(options.left);\n      const attrs = getAttrs(content, start, options);\n\n      addAttrs(attrs, token);\n      token.markup = content;\n      tokens.splice(index + 1, 2);\n    },\n  },\n\n  /**\n   * end of {.block}\n   */\n  {\n    name: \"end of block\",\n    tests: [\n      {\n        shift: 0,\n        type: \"inline\",\n        children: [\n          {\n            position: -1,\n            content: hasDelimiters(\"end\", options),\n            type: (type) => type !== \"code_inline\" && type !== \"math_inline\",\n          },\n        ],\n      },\n    ],\n    transform: (tokens, indx, childIndex): void => {\n      const token = tokens[indx].children![childIndex];\n      const { content } = token;\n      const attrs = getAttrs(\n        content,\n        content.lastIndexOf(options.left),\n        options\n      );\n      let ii = indx + 1;\n\n      while (tokens[ii + 1] && tokens[ii + 1].nesting === -1) ii++;\n\n      const openingToken = getMatchingOpeningToken(tokens, ii);\n\n      addAttrs(attrs, openingToken);\n\n      const trimmed = content.slice(0, content.lastIndexOf(options.left));\n\n      token.content =\n        trimmed[trimmed.length - 1] === \" \" ? trimmed.slice(0, -1) : trimmed;\n    },\n  },\n];\n\n/**\n * Test if rule matches token stream.\n *\n * @param {array} tokens\n * @param {number} index\n * @param {object} rule Test to match.\n * @return {object} { match: true|false, j: null|number }\n */\nconst test = (\n  tokens: Token[],\n  index: number,\n  rule: RuleSet\n): { match: boolean; pos: null | number } => {\n  const res = {\n    match: false,\n    pos: null as number | null, // position of child\n  };\n\n  const ii = rule.shift !== undefined ? index + rule.shift : rule.position!;\n\n  // we should never shift to negative indexes (rolling around to back of array)\n  if (rule.shift !== undefined && ii < 0) return res;\n\n  // supports negative ii\n  const token = getElement(tokens, ii);\n\n  if (token === undefined) return res;\n\n  for (const key of Object.keys(rule) as (keyof typeof rule)[]) {\n    if (key === \"shift\" || key === \"position\") continue;\n\n    if (token[key as keyof Token] === undefined) return res;\n\n    if (key === \"children\" && isArrayOfObjects(rule.children)) {\n      if (token.children?.length === 0) return res;\n\n      let match;\n      const childTests = rule.children;\n      const children = token.children!;\n\n      if (childTests?.every((tt) => tt.position !== undefined)) {\n        // positions instead of shifts, do not loop all children\n        match = childTests.every(\n          (tt) => test(children, tt.position!, tt).match\n        );\n\n        if (match) {\n          // we may need position of child in transform\n          const j = childTests[childTests.length - 1]?.position || 0;\n\n          res.pos = j >= 0 ? j : children.length + j;\n        }\n      } else {\n        for (let j = 0; j < children.length; j++) {\n          match = childTests.every((tt) => test(children, j, tt).match);\n\n          if (match) {\n            res.pos = j;\n            // all tests true, continue with next key of pattern t\n            break;\n          }\n        }\n      }\n\n      if (match === false) return res;\n\n      continue;\n    }\n\n    const ruleDetail = rule[key];\n\n    switch (typeof ruleDetail) {\n      case \"boolean\":\n      case \"number\":\n      case \"string\":\n        if (token[key] !== ruleDetail) return res;\n\n        break;\n\n      case \"function\":\n        // eslint-disable-next-line @typescript-eslint/ban-ts-comment\n        // @ts-ignore\n        if (!ruleDetail(token[key])) return res;\n\n        break;\n\n      case \"object\":\n        if (isArrayOfFunctions(ruleDetail)) {\n          const r = ruleDetail.every((tt) =>\n            (tt as (key: unknown) => boolean)(token[key])\n          );\n\n          if (r === false) return res;\n\n          break;\n        }\n\n        continue;\n\n      // fall through for objects !== arrays of functions\n      default:\n        throw new Error(\n          `Unknown type of pattern test (key: ${key}). Test should be of type boolean, number, string, function or array of functions.`\n        );\n    }\n  }\n\n  // no tests returned false -> all tests returns true\n  res.match = true;\n\n  return res;\n};\n\nexport const attrs: PluginWithOptions<AttrsOptions> = (\n  md,\n  { left = \"{\", right = \"}\", allowed = [] } = {}\n) => {\n  const patterns = patternsConfig({\n    left,\n    right,\n    allowed,\n  });\n\n  const curlyAttrs: RuleCore = (state) => {\n    const tokens = state.tokens;\n\n    for (let index = 0; index < tokens.length; index++) {\n      for (\n        let patternIndex = 0;\n        patternIndex < patterns.length;\n        patternIndex++\n      ) {\n        const pattern = patterns[patternIndex];\n        // position of child with offset 0\n        let pos: null | number = null;\n\n        const match = pattern.tests.every((t) => {\n          const res = test(tokens, index, t);\n\n          if (res.pos !== null) pos = res.pos;\n\n          return res.match;\n        });\n\n        if (match) {\n          pattern.transform(tokens, index, pos!);\n\n          if (\n            pattern.name === \"inline attributes\" ||\n            pattern.name === \"inline nesting 0\"\n          ) {\n            // retry, may be several inline attributes\n            patternIndex--;\n          }\n        }\n      }\n    }\n  };\n\n  md.core.ruler.before(\"linkify\", \"curly_attributes\", curlyAttrs);\n};\n","import { utoa } from \"vuepress-shared\";\nimport { container } from \"./container.js\";\n\nimport type { PluginSimple } from \"markdown-it\";\n\nexport const chart: PluginSimple = (md) => {\n  container(md, {\n    name: \"chart\",\n    openRender: (tokens, index) => {\n      const title = tokens[index].info\n        .trimStart()\n        // 'chart' length\n        .slice(5)\n        .trim();\n\n      const key = `chart-${index}`;\n\n      let config = \"{}\";\n      let configType = \"\";\n\n      for (let i = index; i < tokens.length; i++) {\n        const { type, content, info } = tokens[i];\n\n        if (type === \"container_chart_close\") break;\n\n        if (!content) continue;\n        if (type === \"fence\") {\n          if (info === \"json\") {\n            config = utoa(content);\n            configType = \"json\";\n          } else if (info === \"js\" || info === \"javascript\") {\n            config = utoa(content);\n            configType = \"js\";\n          }\n        }\n\n        // set to an unexisit token type\n        tokens[i].type = \"chart_empty\";\n        // hide token\n        tokens[i].hidden = true;\n      }\n\n      return `<ChartJS id=\"${key}\" config=\"${config}\" ${\n        title ? `title=\"${encodeURIComponent(title)}\" ` : \"\"\n      }type=\"${configType}\">`;\n    },\n    closeRender: () => `</ChartJS>`,\n  });\n};\n","import { utoa } from \"vuepress-shared\";\nimport { container } from \"./container.js\";\n\nimport type { PluginSimple } from \"markdown-it\";\nimport type { default as Token } from \"markdown-it/lib/token.js\";\nimport type { CodeDemoOptions } from \"../../shared/index.js\";\n\nexport const CODE_DEMO_DEFAULT_SETTING: CodeDemoOptions = {\n  useBabel: false,\n  jsLib: [],\n  cssLib: [],\n  codepenLayout: \"left\",\n  codepenEditors: \"101\",\n  babel: \"https://unpkg.com/@babel/standalone/babel.min.js\",\n  vue: \"https://unpkg.com/vue/dist/vue.global.prod.js\",\n  react: \"https://unpkg.com/react/umd/react.production.min.js\",\n  reactDOM: \"https://unpkg.com/react-dom/umd/react-dom.production.min.js\",\n};\n\nconst getPlugin =\n  (name: string): PluginSimple =>\n  (md) =>\n    container(md, {\n      name,\n      openRender: (tokens: Token[], index: number): string => {\n        const title = tokens[index].info.trimStart().slice(name.length).trim();\n\n        let config = \"\";\n        const code: Record<string, string> = {};\n\n        for (let i = index; i < tokens.length; i++) {\n          const { type, content, info } = tokens[i];\n\n          if (type === `container_${name}_close`) break;\n          if (!content) continue;\n          if (type === \"fence\") {\n            if (info === \"json\") config = utoa(content);\n            else code[info] = content;\n          }\n        }\n\n        return `\n<CodeDemo id=\"code-demo-${index}\" type=\"${name.split(\"-\")[0]}\"${\n          title ? ` title=\"${encodeURIComponent(title)}\"` : \"\"\n        }${config ? ` config=\"${config}\"` : \"\"} code=\"${utoa(\n          JSON.stringify(code)\n        )}\">\n`;\n      },\n      closeRender: () => `</CodeDemo>`,\n    });\n\nexport const normalDemo: PluginSimple = getPlugin(\"normal-demo\");\n\nexport const vueDemo: PluginSimple = getPlugin(\"vue-demo\");\n\nexport const reactDemo: PluginSimple = getPlugin(\"react-demo\");\n","import type { Options, PluginWithOptions } from \"markdown-it\";\nimport type { RuleBlock } from \"markdown-it/lib/parser_block.js\";\nimport type { default as Renderer } from \"markdown-it/lib/renderer.js\";\nimport type { default as Token } from \"markdown-it/lib/token.js\";\n\ninterface BaseTabData {\n  title: string;\n  value?: string;\n}\n\nexport interface TabOptions {\n  name: string;\n  component: string;\n  getter: (\n    tokens: Token[],\n    index: number,\n    options: Options,\n    env: unknown,\n    self: Renderer\n  ) => Record<string, unknown>[];\n}\n\nexport const tabs: PluginWithOptions<TabOptions> = (\n  md,\n  { name, component, getter } = {\n    name: \"tabs\",\n    component: \"Tabs\",\n    getter: () => [],\n  }\n) => {\n  const CODETAB_MARKER = `@tab`;\n\n  const tabsRule: RuleBlock = (state, startLine, endLine, silent) => {\n    let start = state.bMarks[startLine] + state.tShift[startLine];\n    let max = state.eMarks[startLine];\n\n    // Check out the first character quickly,\n    // this should filter out most of non-containers\n    if (state.src[start] !== \":\") return false;\n\n    let pos = start + 1;\n\n    // Check out the rest of the marker string\n    while (pos <= max) {\n      if (state.src[pos] !== \":\") break;\n      pos += 1;\n    }\n\n    const markerCount = pos - start;\n\n    if (markerCount < 3) return false;\n\n    const markup = state.src.slice(start, pos);\n    const params = state.src.slice(pos, max);\n\n    const [containerName, id = \"\"] = params.split(\"#\", 2);\n\n    if (containerName.trim() !== name) return false;\n\n    // Since start is found, we can report success here in validation mode\n    if (silent) return true;\n\n    // Search for the end of the block\n    let nextLine = startLine;\n    let autoClosed = false;\n\n    // Search for the end of the block\n    while (\n      // unclosed block should be autoclosed by end of document.\n      // also block seems to be autoclosed by end of parent\n      nextLine < endLine\n    ) {\n      nextLine += 1;\n      start = state.bMarks[nextLine] + state.tShift[nextLine];\n      max = state.eMarks[nextLine];\n\n      if (start < max && state.sCount[nextLine] < state.blkIndent)\n        // non-empty line with negative indent should stop the list:\n        // - ```\n        //  test\n        break;\n\n      if (\n        // match start\n\n        state.src[start] === \":\" &&\n        // closing fence should be indented less than 4 spaces\n        state.sCount[nextLine] - state.blkIndent < 4\n      ) {\n        // check rest of marker\n        for (pos = start + 1; pos <= max; pos++)\n          if (state.src[pos] !== \":\") break;\n\n        // closing code fence must be at least as long as the opening one\n        if (pos - start >= markerCount) {\n          // make sure tail has spaces only\n          pos = state.skipSpaces(pos);\n\n          if (pos >= max) {\n            // found!\n            autoClosed = true;\n            break;\n          }\n        }\n      }\n    }\n\n    const oldParent = state.parentType;\n    const oldLineMax = state.lineMax;\n\n    // eslint-disable-next-line @typescript-eslint/ban-ts-comment\n    // @ts-expect-error\n    state.parentType = `${name}_tabs`;\n\n    // this will prevent lazy continuations from ever going past our end marker\n    state.lineMax = nextLine - (autoClosed ? 1 : 0);\n\n    const openToken = state.push(`${name}_tabs_open`, component, 1);\n\n    openToken.markup = markup;\n    openToken.block = true;\n    openToken.info = containerName;\n    openToken.meta = { id: id.trim() };\n    openToken.map = [startLine, nextLine - (autoClosed ? 1 : 0)];\n\n    state.md.block.tokenize(\n      state,\n      startLine + 1,\n      nextLine - (autoClosed ? 1 : 0)\n    );\n\n    const closeToken = state.push(`${name}_tabs_close`, component, -1);\n\n    closeToken.markup = state.src.slice(start, pos);\n    closeToken.block = true;\n\n    state.parentType = oldParent;\n    state.lineMax = oldLineMax;\n    state.line = nextLine + (autoClosed ? 1 : 0);\n\n    return true;\n  };\n\n  const tabRule: RuleBlock = (state, startLine, endLine, silent) => {\n    let start = state.bMarks[startLine] + state.tShift[startLine];\n    let max = state.eMarks[startLine];\n\n    /*\n     * Check out the first character quickly,\n     * this should filter out most of non-uml blocks\n     */\n    if (state.src.charAt(start) !== \"@\") return false;\n\n    let index;\n\n    // Check out the rest of the marker string\n    for (index = 0; index < CODETAB_MARKER.length; index++)\n      if (CODETAB_MARKER[index] !== state.src[start + index]) return false;\n\n    const markup = state.src.slice(start, start + index);\n    const info = state.src.slice(start + index, max);\n\n    // Since start is found, we can report success here in validation mode\n    if (silent) return true;\n\n    let nextLine = startLine;\n    let autoClosed = false;\n\n    // Search for the end of the block\n    while (\n      // unclosed block should be autoclosed by end of document.\n      // also block seems to be autoclosed by end of parent\n      nextLine < endLine\n    ) {\n      nextLine += 1;\n      start = state.bMarks[nextLine] + state.tShift[nextLine];\n      max = state.eMarks[nextLine];\n\n      if (start < max && state.sCount[nextLine] < state.blkIndent)\n        // non-empty line with negative indent should stop the list:\n        // - ```\n        //  test\n        break;\n\n      if (\n        // match start\n        state.src[start] === \"@\" &&\n        // marker should not be indented with respect of opening fence\n        state.sCount[nextLine] <= state.sCount[startLine]\n      ) {\n        let openMakerMatched = true;\n\n        for (index = 0; index < CODETAB_MARKER.length; index++)\n          if (CODETAB_MARKER[index] !== state.src[start + index]) {\n            openMakerMatched = false;\n            break;\n          }\n\n        if (openMakerMatched) {\n          // found!\n          autoClosed = true;\n          nextLine -= 1;\n          break;\n        }\n      }\n    }\n\n    const oldParent = state.parentType;\n    const oldLineMax = state.lineMax;\n\n    // eslint-disable-next-line @typescript-eslint/ban-ts-comment\n    // @ts-expect-error\n    state.parentType = `tab`;\n\n    // this will prevent lazy continuations from ever going past our end marker\n    state.lineMax = nextLine;\n\n    const openToken = state.push(\"tab_open\", \"template\", 1);\n\n    const [title, id] = info.replace(/^:active/, \"\").split(\"#\", 2);\n\n    openToken.block = true;\n    openToken.markup = markup;\n    openToken.info = title.trim();\n    openToken.meta = {\n      active: info.includes(\":active\"),\n    };\n    // eslint-disable-next-line @typescript-eslint/no-unsafe-member-access\n    if (id) openToken.meta.value = id.trim();\n    openToken.map = [startLine, nextLine];\n\n    state.md.block.tokenize(state, startLine + 1, nextLine);\n\n    const closeToken = state.push(\"tab_close\", \"template\", -1);\n\n    closeToken.block = true;\n    closeToken.markup = \"\";\n\n    state.parentType = oldParent;\n    state.lineMax = oldLineMax;\n    state.line = nextLine + (autoClosed ? 1 : 0);\n\n    return true;\n  };\n\n  md.block.ruler.before(\"fence\", `${name}_tabs`, tabsRule, {\n    alt: [\"paragraph\", \"reference\", \"blockquote\", \"list\"],\n  });\n\n  // WARNING:  Here we use an internal variable to make sure tab rule is not registered\n  // eslint-disable-next-line @typescript-eslint/ban-ts-comment\n  // @ts-ignore\n  // eslint-disable-next-line\n  if (!md.block.ruler.__rules__.find(({ name }) => name === \"tab\"))\n    md.block.ruler.before(\"fence\", \"tab\", tabRule, {\n      alt: [\"paragraph\", \"reference\", \"blockquote\", \"list\"],\n    });\n\n  md.renderer.rules[`${name}_tabs_open`] = (\n    tokens,\n    index,\n    options,\n    env,\n    self\n  ): string => {\n    // eslint-disable-next-line @typescript-eslint/no-unsafe-assignment\n    const { meta } = tokens[index];\n    const basicData: BaseTabData[] = [];\n    const customData = getter(tokens, index, options, env, self);\n    let activeIndex = -1;\n    let isTabstart = false;\n\n    for (let i = index; i < tokens.length; i++) {\n      // eslint-disable-next-line @typescript-eslint/no-unsafe-assignment\n      const { block, meta, type, info } = tokens[i];\n\n      if (block) {\n        if (type === `${name}_tabs_close`) break;\n        if (type === `${name}_tabs_open`) continue;\n\n        if (type === \"tab_open\") {\n          // code tab is active\n          // eslint-disable-next-line @typescript-eslint/no-unsafe-member-access\n          if (meta.active) activeIndex = basicData.length;\n\n          tokens[i].attrPush([\n            `#tab${basicData.length}`,\n            \"{ title, value, isActive }\",\n          ]);\n\n          isTabstart = true;\n          basicData.push({\n            title: info,\n            // eslint-disable-next-line @typescript-eslint/no-unsafe-member-access\n            ...(meta.value ? { value: meta.value as string } : {}),\n          });\n\n          continue;\n        }\n\n        if (type === \"tab_close\") continue;\n\n        if (!isTabstart) {\n          tokens[i].type = `${name}_tabs_empty`;\n          tokens[i].hidden = true;\n        }\n      }\n    }\n\n    const data = basicData.map((item, index) => ({\n      ...item,\n      ...customData[index],\n    }));\n\n    return `<${component} id=\"${index}\" :data='${\n      // single quote will break @vue/compiler-sfc\n      JSON.stringify(data).replace(/'/g, \"&#39\")\n    }'${activeIndex !== -1 ? ` :active=\"${activeIndex}\"` : \"\"}${\n      // eslint-disable-next-line @typescript-eslint/no-unsafe-member-access\n      meta.id ? ` tab-id=\"${meta.id as string}\"` : \"\"\n    }>\\n`;\n  };\n\n  md.renderer.rules[`${name}_tabs_close`] = (): string => `</${component}>\\n`;\n};\n","import { tabs } from \"./tabs.js\";\n\nimport type { PluginSimple } from \"markdown-it\";\n\nexport const codeTabs: PluginSimple = (md) => {\n  tabs(md, {\n    name: \"code-tabs\",\n    component: \"CodeTabs\",\n    getter: (tokens, index) => {\n      let inCodeTab = false;\n      let foundFence = false;\n      const codeTabsData: { content: string }[] = [];\n\n      for (let i = index; i < tokens.length; i++) {\n        const { block, type } = tokens[i];\n\n        if (block) {\n          if (type === \"code-tabs_tabs_close\") {\n            break;\n          }\n\n          if (type === \"tab_close\") {\n            inCodeTab = false;\n            continue;\n          }\n\n          if (type === \"tab_open\") {\n            // found a code tab\n            inCodeTab = true;\n            foundFence = false;\n            continue;\n          }\n\n          if (inCodeTab && type === \"fence\" && !foundFence) {\n            foundFence = true;\n            continue;\n          }\n\n          tokens[i].type = \"code_tab_empty\";\n          tokens[i].hidden = true;\n        }\n      }\n\n      return codeTabsData;\n    },\n  });\n};\n","import { utoa } from \"vuepress-shared\";\nimport { container } from \"./container.js\";\nimport type { default as Token } from \"markdown-it/lib/token.js\";\n\nimport type { PluginSimple } from \"markdown-it\";\n\nconst echartsRender = (tokens: Token[], index: number): string => {\n  const token = tokens[index];\n  const key = `echarts-${index}`;\n  const { content, info } = token;\n  const title = info.trim().split(\":\", 2)[1];\n\n  return `<ECharts id=\"${key}\" config=\"${utoa(content)}\"${\n    title ? ` title=\"${encodeURIComponent(title)}\"` : \"\"\n  }></ECharts>`;\n};\n\nexport const echarts: PluginSimple = (md) => {\n  // Handle ```echarts blocks\n  const fence = md.renderer.rules.fence;\n\n  md.renderer.rules.fence = (...args): string => {\n    const [tokens, index] = args;\n    const { info } = tokens[index];\n    const realInfo = info.split(\":\", 2)[0];\n\n    if (realInfo === \"echarts\") return echartsRender(tokens, index);\n\n    return fence!(...args);\n  };\n\n  md.renderer.rules[\"echarts\"] = echartsRender;\n\n  container(md, {\n    name: \"echarts\",\n\n    openRender: (tokens, index) => {\n      const title = tokens[index].info\n        .trimStart()\n        // 'echarts' length\n        .slice(7)\n        .trim();\n\n      const key = `echarts-${index}`;\n\n      let config = \"{}\";\n      let isJavaScript = false;\n\n      for (let i = index; i < tokens.length; i++) {\n        const { type, content, info } = tokens[i];\n\n        if (type === \"container_echarts_close\") break;\n\n        if (!content) continue;\n        if (type === \"fence\") {\n          if (info === \"json\") config = content;\n          else if (info === \"js\" || info === \"javascript\") {\n            config = content;\n            isJavaScript = true;\n          }\n        }\n\n        // set to an unexisit token type\n        tokens[i].type = \"echarts_empty\";\n        // hide token\n        tokens[i].hidden = true;\n      }\n\n      return `<ECharts id=\"${key}\" config=\"${utoa(config)}\"${\n        title ? ` title=\"${encodeURIComponent(title)}\"` : \"\"\n      }${isJavaScript ? ' type=\"js\"' : \"\"}>`;\n    },\n    closeRender: () => `</ECharts>`,\n  });\n};\n","import { utoa } from \"vuepress-shared\";\nimport type { PluginSimple } from \"markdown-it\";\nimport type { default as Token } from \"markdown-it/lib/token.js\";\n\nconst flowchartRender = (tokens: Token[], index: number): string => {\n  const token = tokens[index];\n  const key = `flowchart-${index}`;\n  const { content, info } = token;\n\n  return `<FlowChart id=\"${key}\" code=\"${utoa(content)}\" preset=\"${\n    info.trim().split(\":\", 2)[1] || \"vue\"\n  }\"></FlowChart>`;\n};\n\nexport const flowchart: PluginSimple = (md) => {\n  // Handle ```flow and ```flowchart blocks\n  const fence = md.renderer.rules.fence;\n\n  md.renderer.rules.fence = (...args): string => {\n    const [tokens, index] = args;\n    const { info } = tokens[index];\n    const realInfo = info.split(\":\", 2)[0];\n\n    if (realInfo === \"flow\" || realInfo === \"flowchart\")\n      return flowchartRender(tokens, index);\n\n    return fence!(...args);\n  };\n\n  md.renderer.rules[\"flowchart\"] = flowchartRender;\n};\n","/**\n * Forked from https://github.com/markdown-it/markdown-it-footnote/blob/master/index.js\n *\n * Copyright (c) 2014-2015 Vitaly Puzrin, Alex Kocharin.\n *\n * Permission is hereby granted, free of charge, to any person\n * obtaining a copy of this software and associated documentation\n * files (the \"Software\"), to deal in the Software without\n * restriction, including without limitation the rights to use,\n * copy, modify, merge, publish, distribute, sublicense, and/or sell\n * copies of the Software, and to permit persons to whom the\n * Software is furnished to do so, subject to the following\n * conditions:\n *\n * The above copyright notice and this permission notice shall be\n * included in all copies or substantial portions of the Software.\n *\n * THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND,\n * EXPRESS OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES\n * OF MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND\n * NONINFRINGEMENT. IN NO EVENT SHALL THE AUTHORS OR COPYRIGHT\n * HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER LIABILITY,\n * WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING\n * FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR\n * OTHER DEALINGS IN THE SOFTWARE.\n */\n\nimport { default as Token } from \"markdown-it/lib/token.js\";\nimport { default as parseLinkLabel } from \"markdown-it/lib/helpers/parse_link_label.js\";\n\nimport type { MarkdownEnv } from \"@vuepress/markdown\";\nimport type { default as Renderer } from \"markdown-it/lib/renderer.js\";\nimport type { default as StateBlock } from \"markdown-it/lib/rules_block/state_block.js\";\nimport type { default as StateCore } from \"markdown-it/lib/rules_core/state_core.js\";\nimport type { default as StateInline } from \"markdown-it/lib/rules_inline/state_inline.js\";\nimport type { PluginSimple } from \"markdown-it\";\nimport type { RuleBlock } from \"markdown-it/lib/parser_block.js\";\nimport type { RuleInline } from \"markdown-it/lib/parser_inline.js\";\n\ninterface FootNoteToken extends Token {\n  meta: {\n    id: number;\n    subId: number;\n    label: string;\n  };\n}\n\ninterface FootNoteEnv extends MarkdownEnv {\n  docId?: string;\n  footnotes: {\n    label?: string;\n    refs?: Record<string, number>;\n    list?: {\n      label?: string;\n      count?: number;\n      content?: string;\n      tokens?: Token[] | null;\n    }[];\n  };\n}\n\ninterface FootNoteStateBlock extends StateBlock {\n  tokens: FootNoteToken[];\n  env: FootNoteEnv;\n}\n\ninterface FootNoteStateInline extends StateInline {\n  tokens: FootNoteToken[];\n  env: FootNoteEnv;\n}\n\ninterface FootNoteStateCore extends StateCore {\n  tokens: FootNoteToken[];\n  env: FootNoteEnv;\n}\n\nconst getIDSuffix = (tokens: FootNoteToken[], index: number): string =>\n  // add suffix when multiple id was found\n  tokens[index].meta.subId > 0 ? `:${tokens[index].meta.subId}` : \"\";\n\nconst renderFootnoteAnchorName: Renderer.RenderRule = (\n  tokens: FootNoteToken[],\n  index,\n  _options,\n  env: FootNoteEnv\n): string =>\n  `${\n    // prefix\n    typeof env.docId === \"string\" ? `-${env.docId}-` : \"\"\n  }${\n    // increasing id\n    (tokens[index].meta.id + 1).toString()\n  }`;\n\nconst renderFootnoteCaption: Renderer.RenderRule = (\n  tokens: FootNoteToken[],\n  index\n): string =>\n  `[${\n    // number\n    (tokens[index].meta.id + 1).toString()\n  }${getIDSuffix(tokens, index)}]`;\n\nconst renderFootnoteRef: Renderer.RenderRule = (\n  tokens: FootNoteToken[],\n  index,\n  options,\n  env: FootNoteEnv,\n  self\n): string => {\n  const id = self.rules[\"footnoteAnchorName\"]!(\n    tokens,\n    index,\n    options,\n    env,\n    self\n  );\n  const caption = self.rules[\"footnoteCaption\"]!(\n    tokens,\n    index,\n    options,\n    env,\n    self\n  );\n\n  return `<sup class=\"footnote-ref\"><a href=\"#footnote${id}\">${caption}</a><a class=\"footnote-anchor\" id=\"footnote-ref${id}${getIDSuffix(\n    tokens,\n    index\n  )}\" /></sup>`;\n};\n\nconst renderFootnoteBlockOpen: Renderer.RenderRule = (\n  _tokens: FootNoteToken[],\n  _index,\n  options\n): string =>\n  `${\n    options.xhtmlOut\n      ? '<hr class=\"footnotes-sep\" />\\n'\n      : '<hr class=\"footnotes-sep\">\\n'\n  }<section class=\"footnotes\">\\n<ol class=\"footnotes-list\">\\n`;\n\nconst renderFootnoteBlockClose = (): string => \"</ol>\\n</section>\\n\";\n\nconst renderFootnoteOpen: Renderer.RenderRule = (\n  tokens: FootNoteToken[],\n  index,\n  options,\n  env: FootNoteEnv,\n  self\n): string =>\n  `<li id=\"footnote${self.rules[\"footnoteAnchorName\"]!(\n    tokens,\n    index,\n    options,\n    env,\n    self\n  )}${getIDSuffix(tokens, index)}\" class=\"footnote-item\">`;\n\nconst renderFootnoteClose = (): string => \"</li>\\n\";\n\nconst renderFootnoteAnchor: Renderer.RenderRule = (\n  tokens: FootNoteToken[],\n  index,\n  options,\n  env: FootNoteEnv,\n  self\n): string => {\n  return ` <a href=\"#footnote-ref${self.rules[\"footnoteAnchorName\"]!(\n    tokens,\n    index,\n    options,\n    env,\n    self\n  )}${\n    getIDSuffix(tokens, index)\n    /*  with escape code to prevent display as Apple Emoji on iOS */\n  }\" class=\"footnote-backref\">\\u21a9\\uFE0E</a>`;\n};\n\n// Process footnote block definition\nconst footnoteDef: RuleBlock = (\n  state: FootNoteStateBlock,\n  startLine,\n  endLine,\n  silent\n) => {\n  let pos;\n  let token;\n  let offset;\n  let ch;\n  const start = state.bMarks[startLine] + state.tShift[startLine];\n  const max = state.eMarks[startLine];\n\n  // line should be at least 5 chars - \"[^x]:\"\n  if (start + 4 > max) return false;\n\n  if (state.src.charAt(start) !== \"[\") return false;\n\n  if (state.src.charAt(start + 1) !== \"^\") return false;\n\n  for (pos = start + 2; pos < max; pos++) {\n    if (state.src.charAt(pos) === \" \") return false;\n    if (state.src.charAt(pos) === \"]\") break;\n  }\n\n  // no empty footnote labels\n  if (pos === start + 2) return false;\n\n  if (pos + 1 >= max || state.src.charAt(++pos) !== \":\") return false;\n\n  if (silent) return true;\n  pos += 1;\n\n  if (!state.env.footnotes) state.env.footnotes = {};\n  if (!state.env.footnotes.refs) state.env.footnotes.refs = {};\n  const label = state.src.slice(start + 2, pos - 2);\n\n  state.env.footnotes.refs[`:${label}`] = -1;\n\n  token = new Token(\"footnoteReferenceOpen\", \"\", 1);\n  token.meta = { label };\n  token.level = state.level++;\n  state.tokens.push(token);\n\n  const oldBMark = state.bMarks[startLine];\n  const oldTShift = state.tShift[startLine];\n  const oldSCount = state.sCount[startLine];\n  const oldParentType = state.parentType;\n  const posAfterColon = pos;\n  const initial =\n    state.sCount[startLine] +\n    pos -\n    (state.bMarks[startLine] + state.tShift[startLine]);\n\n  offset =\n    state.sCount[startLine] +\n    pos -\n    (state.bMarks[startLine] + state.tShift[startLine]);\n\n  while (pos < max) {\n    ch = state.src.charAt(pos);\n\n    if (ch === \"\\t\") offset += 4 - (offset % 4);\n    else if (ch === \" \") offset += 1;\n    else break;\n\n    pos += 1;\n  }\n\n  state.tShift[startLine] = pos - posAfterColon;\n  state.sCount[startLine] = offset - initial;\n\n  state.bMarks[startLine] = posAfterColon;\n  state.blkIndent += 4;\n  state.parentType = \"footnote\" as unknown as StateBlock.ParentType;\n\n  if (state.sCount[startLine] < state.blkIndent)\n    state.sCount[startLine] += state.blkIndent;\n\n  state.md.block.tokenize(state, startLine, endLine);\n\n  state.parentType = oldParentType;\n  state.blkIndent -= 4;\n  state.tShift[startLine] = oldTShift;\n  state.sCount[startLine] = oldSCount;\n  state.bMarks[startLine] = oldBMark;\n\n  token = new Token(\"footnoteReferenceClose\", \"\", -1);\n  token.level = --state.level;\n  state.tokens.push(token);\n\n  return true;\n};\n\n// Process inline footnotes (^[...])\nconst footnoteInline: RuleInline = (state: FootNoteStateInline, silent) => {\n  let footnoteId;\n  let token;\n  let tokens: Token[];\n  const max = state.posMax;\n  const start = state.pos;\n\n  if (start + 2 >= max) return false;\n  if (state.src.charAt(start) !== \"^\") return false;\n\n  if (state.src.charAt(start + 1) !== \"[\") return false;\n\n  const labelStart = start + 2;\n  const labelEnd = parseLinkLabel(state, start + 1);\n\n  // parser failed to find ']', so its not a valid note\n  if (labelEnd < 0) return false;\n\n  /*\n   * We found the end of the link, and know for a fact its a valid link;\n   * so all thats left to do is to call tokenizer.\n   *\n   */\n  if (!silent) {\n    if (!state.env.footnotes) state.env.footnotes = {};\n    if (!state.env.footnotes.list) state.env.footnotes.list = [];\n    footnoteId = state.env.footnotes.list.length;\n\n    state.md.inline.parse(\n      state.src.slice(labelStart, labelEnd),\n      state.md,\n      state.env,\n      (tokens = [])\n    );\n\n    token = state.push(\"footnoteRef\", \"\", 0);\n    token.meta = { id: footnoteId };\n\n    state.env.footnotes.list[footnoteId] = {\n      content: state.src.slice(labelStart, labelEnd),\n      tokens,\n    };\n  }\n\n  state.pos = labelEnd + 1;\n  state.posMax = max;\n\n  return true;\n};\n\n// Process footnote references ([^...])\nconst footnoteRef: RuleInline = (state: FootNoteStateInline, silent) => {\n  let pos;\n  let footnoteId;\n  let footnoteSubId;\n  let token;\n  const max = state.posMax;\n  const start = state.pos;\n\n  // should be at least 4 chars - \"[^x]\"\n  if (start + 3 > max) return false;\n\n  if (!state.env.footnotes || !state.env.footnotes.refs) return false;\n  if (state.src.charAt(start) !== \"[\") return false;\n\n  if (state.src.charAt(start + 1) !== \"^\") return false;\n\n  for (pos = start + 2; pos < max; pos++) {\n    if (state.src.charAt(pos) === \" \") return false;\n    if (state.src.charAt(pos) === \"\\n\") return false;\n    if (state.src.charAt(pos) === \"]\") break;\n  }\n\n  if (pos === start + 2) return false; // no empty footnote labels\n  if (pos >= max) return false;\n\n  pos += 1;\n\n  const label = state.src.slice(start + 2, pos - 1);\n\n  if (typeof state.env.footnotes.refs[`:${label}`] === \"undefined\")\n    return false;\n\n  if (!silent) {\n    if (!state.env.footnotes.list) state.env.footnotes.list = [];\n\n    if (state.env.footnotes.refs[`:${label}`] < 0) {\n      footnoteId = state.env.footnotes.list.length;\n      state.env.footnotes.list[footnoteId] = { label, count: 0 };\n      state.env.footnotes.refs[`:${label}`] = footnoteId;\n    } else footnoteId = state.env.footnotes.refs[`:${label}`];\n\n    footnoteSubId = state.env.footnotes.list[footnoteId].count!;\n    state.env.footnotes.list[footnoteId].count =\n      state.env.footnotes.list[footnoteId].count! + 1;\n\n    token = state.push(\"footnoteRef\", \"\", 0);\n    token.meta = { id: footnoteId, subId: footnoteSubId, label };\n  }\n\n  state.pos = pos;\n  state.posMax = max;\n\n  return true;\n};\n\n// Glue footnote tokens to end of token stream\nconst footnoteTail = (state: FootNoteStateCore): boolean => {\n  let lastParagraph: FootNoteToken | null;\n  let token: Token;\n  let tokens: Token[];\n  let current: Token[];\n  let currentLabel: string;\n  let insideRef = false;\n  const refTokens: Record<string, Token[]> = {};\n\n  if (!state.env.footnotes) return false;\n\n  state.tokens = state.tokens.filter((stateToken) => {\n    if (stateToken.type === \"footnoteReferenceOpen\") {\n      insideRef = true;\n      current = [];\n      currentLabel = stateToken.meta.label;\n\n      return false;\n    }\n    if (stateToken.type === \"footnoteReferenceClose\") {\n      insideRef = false;\n      // prepend ':' to avoid conflict with Object.prototype members\n      refTokens[`:${currentLabel}`] = current;\n\n      return false;\n    }\n    if (insideRef) current.push(stateToken);\n\n    return !insideRef;\n  });\n\n  if (!state.env.footnotes.list) return false;\n  const { list } = state.env.footnotes;\n\n  token = new Token(\"footnoteBlockOpen\", \"\", 1);\n  state.tokens.push(token);\n\n  for (let i = 0, { length } = list; i < length; i++) {\n    token = new Token(\"footnoteOpen\", \"\", 1);\n    token.meta = { id: i, label: list[i].label };\n    state.tokens.push(token);\n\n    if (list[i].tokens) {\n      tokens = [];\n\n      token = new Token(\"paragraph_open\", \"p\", 1);\n      token.block = true;\n      tokens.push(token);\n\n      token = new Token(\"inline\", \"\", 0);\n      token.children = list[i].tokens!;\n      token.content = list[i].content!;\n      tokens.push(token);\n\n      token = new Token(\"paragraph_close\", \"p\", -1);\n      token.block = true;\n      tokens.push(token);\n    } else if (list[i].label) tokens = refTokens[`:${list[i].label!}`];\n    else tokens = [];\n\n    if (tokens) state.tokens = state.tokens.concat(tokens);\n    if (state.tokens[state.tokens.length - 1].type === \"paragraph_close\")\n      lastParagraph = state.tokens.pop() || null;\n    else lastParagraph = null;\n\n    for (let j = 0; j < (Number(list[i].count) > 0 ? list[i].count! : 1); j++) {\n      token = new Token(\"footnoteAnchor\", \"\", 0);\n      token.meta = { id: i, subId: j, label: list[i].label };\n      state.tokens.push(token);\n    }\n\n    if (lastParagraph) state.tokens.push(lastParagraph);\n\n    token = new Token(\"footnoteClose\", \"\", -1);\n    state.tokens.push(token);\n  }\n\n  token = new Token(\"footnoteBlockClose\", \"\", -1);\n  state.tokens.push(token);\n\n  return true;\n};\n\nexport const footnote: PluginSimple = (md) => {\n  md.renderer.rules[\"footnoteRef\"] = renderFootnoteRef;\n  md.renderer.rules[\"footnoteBlockOpen\"] = renderFootnoteBlockOpen;\n  md.renderer.rules[\"footnoteBlockClose\"] = renderFootnoteBlockClose;\n  md.renderer.rules[\"footnoteOpen\"] = renderFootnoteOpen;\n  md.renderer.rules[\"footnoteClose\"] = renderFootnoteClose;\n  md.renderer.rules[\"footnoteAnchor\"] = renderFootnoteAnchor;\n\n  // helpers (only used in other rules, no tokens are attached to those)\n  // helpers (only used in other rules, no tokens are attached to those)\n  md.renderer.rules[\"footnoteCaption\"] = renderFootnoteCaption;\n  md.renderer.rules[\"footnoteAnchorName\"] = renderFootnoteAnchorName;\n\n  md.block.ruler.before(\"reference\", \"footnoteDef\", footnoteDef, {\n    alt: [\"paragraph\", \"reference\"],\n  });\n  md.inline.ruler.after(\"image\", \"footnoteInline\", footnoteInline);\n  md.inline.ruler.after(\"footnoteInline\", \"footnoteRef\", footnoteRef);\n  md.core.ruler.after(\"inline\", \"footnoteTail\", footnoteTail);\n};\n","import { ensureLeadingSlash, resolveLocalePath } from \"@vuepress/shared\";\n\nimport { container } from \"./container.js\";\n\nimport type { MarkdownEnv } from \"@vuepress/markdown\";\nimport type { PluginWithOptions } from \"markdown-it\";\nimport type { ConvertLocaleConfig } from \"vuepress-shared\";\nimport type { MarkdownHintLocaleData } from \"../../shared/index.js\";\n\nexport type MarkdownItHintOptions = ConvertLocaleConfig<MarkdownHintLocaleData>;\n\nexport type MarkdownHintBoxName = keyof MarkdownHintLocaleData;\n\nexport const hint: PluginWithOptions<MarkdownItHintOptions> = (\n  md,\n  options = {}\n) => {\n  const containers: MarkdownHintBoxName[] = [\n    \"info\",\n    \"note\",\n    \"tip\",\n    \"warning\",\n    \"danger\",\n  ];\n\n  containers.forEach((name) => {\n    md.use(container, {\n      name,\n      openRender: (tokens, index, _options, env: MarkdownEnv): string => {\n        const token = tokens[index];\n\n        // resolve info (title)\n        let info = token.info.trim().slice(name.length).trim();\n\n        // get locale\n        if (!info) {\n          const { filePathRelative } = env;\n          const relativePath = ensureLeadingSlash(filePathRelative ?? \"\");\n          const localePath = resolveLocalePath(options, relativePath);\n\n          info = options[localePath]?.[name];\n        }\n\n        return `<div class=\"custom-container ${name}\">\\n<p class=\"custom-container-title\">${\n          info || name\n        }</p>\\n`;\n      },\n      closeRender: () => \"</div>\\n\",\n    });\n  });\n\n  md.use((md) =>\n    container(md, {\n      name: \"details\",\n      openRender: (tokens, index, _options, env: MarkdownEnv): string => {\n        const token = tokens[index];\n\n        // resolve info (title)\n        let info = token.info\n          .trim()\n          .slice(\n            // length of \"details\"\n            7\n          )\n          .trim();\n\n        // get locale\n        if (!info) {\n          const { filePathRelative } = env;\n          const relativePath = ensureLeadingSlash(filePathRelative ?? \"\");\n          const localePath = resolveLocalePath(options, relativePath);\n\n          info = options[localePath]?.details;\n        }\n\n        return `<details class=\"custom-container details\"><summary>${\n          info || \"Details\"\n        }</summary>\\n`;\n      },\n      closeRender: () => \"</details>\\n\",\n    })\n  );\n};\n","import type { PluginWithOptions } from \"markdown-it\";\nimport type { ImageMarkOptions } from \"../../shared/index.js\";\n\nexport const imageMark: PluginWithOptions<ImageMarkOptions> = (\n  md,\n  {\n    light = [\"gh-light-mode-only\", \"light\"],\n    dark = [\"gh-dark-mode-only\", \"dark\"],\n  } = {}\n): void => {\n  const originalImageRender = md.renderer.rules.image!;\n\n  md.renderer.rules.image = (tokens, index, options, env, self): string => {\n    const token = tokens[index];\n    const src = token.attrGet(\"src\");\n\n    if (src) {\n      if (light.some((item) => src.endsWith(`#${item}`))) {\n        token.attrSet(\"data-mode\", \"lightmode-only\");\n        token.attrSet(\"src\", src.replace(/#.*?$/, \"\"));\n      } else if (dark.some((item) => src.endsWith(`#${item}`))) {\n        token.attrSet(\"data-mode\", \"darkmode-only\");\n        token.attrSet(\"src\", src.replace(/#.*?$/, \"\"));\n      }\n    }\n\n    return originalImageRender(tokens, index, options, env, self);\n  };\n};\n","import type { MarkdownEnv } from \"@vuepress/markdown\";\nimport type { PluginSimple } from \"markdown-it\";\nimport type { RuleInline } from \"markdown-it/lib/parser_inline.js\";\nimport type { default as Token } from \"markdown-it/lib/token.js\";\n\ninterface MarkdownReference {\n  href: string;\n  title?: string;\n}\n\nexport interface ImageEnv extends MarkdownEnv {\n  references?: Record<string, MarkdownReference>;\n}\n\n// Parse image size\n//\nconst parseNextNumber = (\n  str: string,\n  pos: number,\n  max: number\n): { ok: boolean; pos: number; value: string } => {\n  let code;\n  const start = pos;\n  const result = {\n    ok: false,\n    pos: pos,\n    value: \"\",\n  };\n\n  code = str.charCodeAt(pos);\n\n  while (\n    (pos < max && code >= 0x30 /* 0 */ && code <= 0x39) /* 9 */ ||\n    code === 0x25 /* % */\n  ) {\n    code = str.charCodeAt(++pos);\n  }\n\n  result.ok = true;\n  result.pos = pos;\n  result.value = str.slice(start, pos);\n\n  return result;\n};\n\nconst parseImageSize = (\n  str: string,\n  pos: number,\n  max: number\n): { ok: boolean; pos: number; width: string; height: string } => {\n  const result = {\n    ok: false,\n    pos: 0,\n    width: \"\",\n    height: \"\",\n  };\n\n  if (pos >= max) return result;\n\n  if (str.charAt(pos) !== \"=\") return result;\n\n  pos += 1;\n\n  // size must follow = without any white spaces as follows\n  // (1) =300x200\n  // (2) =300x\n  // (3) =x200\n  const code = str.charCodeAt(pos);\n\n  if (code !== 0x78 /* x */ && (code < 0x30 || code > 0x39) /* [0-9] */)\n    return result;\n\n  // parse width\n  const width = parseNextNumber(str, pos, max);\n\n  pos = width.pos;\n\n  // next charactor must be 'x'\n  if (str.charAt(pos) !== \"x\") return result;\n\n  pos += 1;\n\n  // parse height\n  const height = parseNextNumber(str, pos, max);\n\n  pos = height.pos;\n\n  result.width = width.value;\n  result.height = height.value;\n  result.pos = pos;\n  result.ok = true;\n\n  return result;\n};\n\nconst imageSizeRule: RuleInline = (state, silent) => {\n  const env = <ImageEnv>state.env;\n  const oldPos = state.pos;\n  const max = state.posMax;\n\n  if (state.src.charAt(state.pos) !== \"!\") return false;\n  if (state.src.charAt(state.pos + 1) !== \"[\") return false;\n\n  const labelStart = state.pos + 2;\n  const labelEnd = state.md.helpers.parseLinkLabel(state, state.pos + 1, false);\n\n  // parser failed to find ']', so it's not a valid link\n  if (labelEnd < 0) return false;\n\n  let pos = labelEnd + 1;\n  let code: number;\n\n  let href = \"\";\n  let title = \"\";\n  let width = \"\";\n  let height = \"\";\n\n  if (pos < max && state.src.charAt(pos) === \"(\") {\n    //\n    // Inline link\n    //\n\n    // [link](  <href>  \"title\"  )\n    //        ^^ skipping these spaces\n    pos += 1;\n\n    for (; pos < max; pos++) {\n      code = state.src.charCodeAt(pos);\n      if (!state.md.utils.isSpace(code) && code !== 0x0a) break;\n    }\n\n    if (pos >= max) return false;\n\n    // [link](  <href>  \"title\"  )\n    //          ^^^^^^ parsing link destination\n    let res;\n\n    res = state.md.helpers.parseLinkDestination(state.src, pos, state.posMax);\n\n    if (res.ok) {\n      href = state.md.normalizeLink(res.str);\n\n      if (state.md.validateLink(href)) pos = res.pos;\n      else href = \"\";\n    }\n\n    // [link](  <href>  \"title\"  )\n    //                ^^ skipping these spaces\n    const start = pos;\n\n    for (; pos < max; pos++) {\n      code = state.src.charCodeAt(pos);\n      if (!state.md.utils.isSpace(code) && code !== 0x0a) break;\n    }\n\n    // [link](  <href>  \"title\"  )\n    //                  ^^^^^^^ parsing link title\n    res = state.md.helpers.parseLinkTitle(state.src, pos, state.posMax);\n\n    if (pos < max && start !== pos && res.ok) {\n      title = res.str;\n      pos = res.pos;\n\n      // [link](  <href>  \"title\"  )\n      //                         ^^ skipping these spaces\n      for (; pos < max; pos++) {\n        code = state.src.charCodeAt(pos);\n        if (!state.md.utils.isSpace(code) && code !== 0x0a) break;\n      }\n    } else title = \"\";\n\n    // [link](  <href>  \"title\" =WxH  )\n    //                          ^^^^ parsing image size\n    if (pos - 1 >= 0) {\n      code = state.src.charCodeAt(pos - 1);\n\n      // there must be at least one white spaces\n      // between previous field and the size\n      if (code === 0x20) {\n        res = parseImageSize(state.src, pos, state.posMax);\n        if (res.ok) {\n          width = res.width;\n          height = res.height;\n          pos = res.pos;\n\n          // [link](  <href>  \"title\" =WxH  )\n          //                              ^^ skipping these spaces\n          for (; pos < max; pos++) {\n            code = state.src.charCodeAt(pos);\n            if (code !== 0x20 && code !== 0x0a) break;\n          }\n        }\n      }\n    }\n\n    if (pos >= max || state.src.charAt(pos) !== \")\") {\n      state.pos = oldPos;\n\n      return false;\n    }\n    pos += 1;\n  } else {\n    let label = \"\";\n\n    //\n    // Link reference\n    //\n    if (typeof env.references === \"undefined\") return false;\n\n    if (pos < max && state.src.charAt(pos) === \"[\") {\n      const start = pos + 1;\n\n      pos = state.md.helpers.parseLinkLabel(state, pos);\n\n      if (pos >= 0) label = state.src.slice(start, pos++);\n      else pos = labelEnd + 1;\n    } else pos = labelEnd + 1;\n\n    // covers label === '' and label === undefined\n    // (collapsed reference link and shortcut reference link respectively)\n    if (!label) label = state.src.slice(labelStart, labelEnd);\n\n    const ref = env.references[state.md.utils.normalizeReference(label)];\n\n    if (!ref) {\n      state.pos = oldPos;\n\n      return false;\n    }\n\n    href = ref.href;\n    title = ref.title || \"\";\n  }\n\n  //\n  // We found the end of the link, and know for a fact it's a valid link;\n  // so all that's left to do is to call tokenizer.\n  //\n  if (!silent) {\n    const content = state.src.slice(labelStart, labelEnd);\n    const tokens: Token[] = [];\n\n    state.md.inline.parse(content, state.md, state.env, tokens);\n\n    const token = state.push(\"image\", \"img\", 0);\n\n    token.attrs = <[string, string][]>[\n      [\"src\", href],\n      [\"alt\", \"\"],\n    ];\n    if (title) token.attrs.push([\"title\", title]);\n    if (width !== \"\") token.attrs.push([\"width\", width]);\n    if (height !== \"\") token.attrs.push([\"height\", height]);\n\n    token.children = tokens;\n    token.content = content;\n  }\n\n  state.pos = pos;\n  state.posMax = max;\n\n  return true;\n};\n\nexport const imageSize: PluginSimple = (md) => {\n  md.inline.ruler.before(\"emphasis\", \"image\", imageSizeRule);\n};\n","/**\n * Forked from https://github.com/waylonflinn/markdown-it-katex/blob/master/index.js\n *\n * The MIT License (MIT)\n *\n * Copyright (c) 2016 Waylon Flinn\n *\n * Permission is hereby granted, free of charge, to any person obtaining a copy\n * of this software and associated documentation files (the \"Software\"), to deal\n * in the Software without restriction, including without limitation the rights\n * to use, copy, modify, merge, publish, distribute, sublicense, and/or sell\n * copies of the Software, and to permit persons to whom the Software is\n * furnished to do so, subject to the following conditions:\n *\n * The above copyright notice and this permission notice shall be included in all\n * copies or substantial portions of the Software.\n *\n * THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR\n * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,\n * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE\n * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER\n * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,\n * OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE\n * SOFTWARE.\n */\n\nimport type { default as StateInline } from \"markdown-it/lib/rules_inline/state_inline.js\";\nimport type { PluginWithOptions } from \"markdown-it\";\nimport type { RuleInline } from \"markdown-it/lib/parser_inline.js\";\nimport type { RuleBlock } from \"markdown-it/lib/parser_block.js\";\n\nexport interface TexOptions {\n  render: (content: string, displayMode: boolean) => string;\n}\n\n/*\n * Test if potential opening or closing delimieter\n * Assumes that there is a \"$\" at state.src[pos]\n */\nconst isValidDelim = (\n  state: StateInline,\n  pos: number\n): { canOpen: boolean; canClose: boolean } => {\n  const prevChar = pos > 0 ? state.src.charAt(pos - 1) : \"\";\n  const nextChar = pos + 1 <= state.posMax ? state.src.charAt(pos + 1) : \"\";\n\n  return {\n    canOpen: nextChar !== \" \" && nextChar !== \"\\t\",\n\n    /*\n     * Check non-whitespace conditions for opening and closing, and\n     * check that closing delimeter isnt followed by a number\n     */\n    canClose: !(\n      prevChar === \" \" ||\n      prevChar === \"\\t\" ||\n      /[0-9]/u.exec(nextChar)\n    ),\n  };\n};\n\nconst inlineTex: RuleInline = (state, silent) => {\n  let match;\n  let pos;\n  let res;\n  let token;\n\n  if (state.src[state.pos] !== \"$\") return false;\n\n  res = isValidDelim(state, state.pos);\n  if (!res.canOpen) {\n    if (!silent) state.pending += \"$\";\n\n    state.pos += 1;\n\n    return true;\n  }\n\n  /*\n   * First check for and bypass all properly escaped delimieters\n   * This loop will assume that the first leading backtick can not\n   * be the first character in state.src, which is known since\n   * we have found an opening delimieter already.\n   */\n  const start = state.pos + 1;\n\n  match = start;\n  while ((match = state.src.indexOf(\"$\", match)) !== -1) {\n    /*\n     * Found potential $, look for escapes, pos will point to\n     * first non escape when complete\n     */\n    pos = match - 1;\n    while (state.src[pos] === \"\\\\\") pos -= 1;\n\n    // Even number of escapes, potential closing delimiter found\n    if ((match - pos) % 2 === 1) break;\n\n    match += 1;\n  }\n\n  // No closing delimter found.  Consume $ and continue.\n  if (match === -1) {\n    if (!silent) state.pending += \"$\";\n\n    state.pos = start;\n\n    return true;\n  }\n\n  // Check if we have empty content, ie: $$.  Do not parse.\n  if (match - start === 0) {\n    if (!silent) state.pending += \"$$\";\n\n    state.pos = start + 1;\n\n    return true;\n  }\n\n  // Check for valid closing delimiter\n  res = isValidDelim(state, match);\n\n  if (!res.canClose) {\n    if (!silent) state.pending += \"$\";\n\n    state.pos = start;\n\n    return true;\n  }\n\n  if (!silent) {\n    token = state.push(\"math_inline\", \"math\", 0);\n    token.markup = \"$\";\n    token.content = state.src.slice(start, match);\n  }\n\n  state.pos = match + 1;\n\n  return true;\n};\n\nconst blockTex: RuleBlock = (state, start, end, silent) => {\n  let firstLine;\n  let lastLine;\n  let next;\n  let lastPos;\n  let found = false;\n  let pos = state.bMarks[start] + state.tShift[start];\n  let max = state.eMarks[start];\n\n  if (pos + 2 > max) return false;\n\n  if (state.src.slice(pos, pos + 2) !== \"$$\") return false;\n\n  pos += 2;\n  firstLine = state.src.slice(pos, max);\n\n  if (silent) return true;\n\n  if (firstLine.trim().endsWith(\"$$\")) {\n    // Single line expression\n    firstLine = firstLine.trim().slice(0, -2);\n    found = true;\n  }\n\n  for (next = start; !found; ) {\n    next += 1;\n\n    if (next >= end) break;\n\n    pos = state.bMarks[next] + state.tShift[next];\n    max = state.eMarks[next];\n\n    if (pos < max && state.tShift[next] < state.blkIndent)\n      // non-empty line with negative indent should stop the list:\n      break;\n\n    if (state.src.slice(pos, max).trim().endsWith(\"$$\")) {\n      lastPos = state.src.slice(0, max).lastIndexOf(\"$$\");\n      lastLine = state.src.slice(pos, lastPos);\n      found = true;\n    }\n  }\n\n  state.line = next + 1;\n\n  const token = state.push(\"math_block\", \"math\", 0);\n\n  token.block = true;\n  token.content =\n    (firstLine?.trim() ? `\\n${firstLine}\\n` : \"\\n\") +\n    state.getLines(start + 1, next, state.tShift[start], true) +\n    (lastLine?.trim() ? lastLine : \"\");\n  token.map = [start, state.line];\n  token.markup = \"$$\";\n\n  return true;\n};\n\nexport const tex: PluginWithOptions<TexOptions> = (md, options) => {\n  const { render } = options || {};\n\n  if (typeof render !== \"function\")\n    return console.error(\n      'markdown-it tex: \"render\" option should be a function'\n    );\n\n  md.inline.ruler.after(\"escape\", \"math_inline\", inlineTex);\n  md.block.ruler.after(\"blockquote\", \"math_block\", blockTex, {\n    alt: [\"paragraph\", \"reference\", \"blockquote\", \"list\"],\n  });\n\n  md.renderer.rules[\"math_inline\"] = (tokens, index): string =>\n    render(tokens[index].content, false);\n  md.renderer.rules[\"math_block\"] = (tokens, index): string =>\n    render(tokens[index].content, true);\n};\n","import type { default as Token } from \"markdown-it/lib/token.js\";\n\n// https://spec.commonmark.org/0.29/#line-ending\nexport const NEWLINES_RE = /\\r\\n?|\\n/g;\n\nexport const UNESCAPE_RE = /\\\\([ \\\\!\"#$%&'()*+,./:;<=>?@[\\]^_`{|}~-])/gu;\n\nexport const setTokenAttr = (\n  token: Token,\n  name: string,\n  value: string\n): void => {\n  const index = token.attrIndex(name);\n  const attr: [string, string] = [name, value];\n\n  if (index < 0) token.attrPush(attr);\n  else token.attrs![index] = attr;\n};\n\nexport const getParentTokenIndex = (tokens: Token[], index: number): number => {\n  const targetLevel = tokens[index].level - 1;\n\n  for (let i = index - 1; i >= 0; i--)\n    if (tokens[i].level === targetLevel) return i;\n\n  return -1;\n};\n\nexport const isInlineToken = (token?: Token): boolean =>\n  token?.type === \"inline\";\n\nexport const isParagraphToken = (token?: Token): boolean =>\n  token?.type === \"paragraph_open\";\n\nexport const isListItemToken = (token?: Token): boolean =>\n  token?.type === \"list_item_open\";\n\nexport const escapeHtml = (unsafeHTML: string): string =>\n  unsafeHTML\n    .replace(/&/gu, \"&amp;\")\n    .replace(/</gu, \"&lt;\")\n    .replace(/>/gu, \"&gt;\")\n    .replace(/\"/gu, \"&quot;\")\n    .replace(/'/gu, \"&#039;\");\n\nexport interface UMLOptions {\n  name: string;\n  open: string;\n  close: string;\n}\n","/**\n * Forked from https://github.com/waylonflinn/markdown-it-katex/blob/master/index.js\n *\n * The MIT License (MIT)\n *\n * Copyright (c) 2016 Waylon Flinn\n *\n * Permission is hereby granted, free of charge, to any person obtaining a copy\n * of this software and associated documentation files (the \"Software\"), to deal\n * in the Software without restriction, including without limitation the rights\n * to use, copy, modify, merge, publish, distribute, sublicense, and/or sell\n * copies of the Software, and to permit persons to whom the Software is\n * furnished to do so, subject to the following conditions:\n *\n * The above copyright notice and this permission notice shall be included in all\n * copies or substantial portions of the Software.\n *\n * THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR\n * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,\n * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE\n * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER\n * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,\n * OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE\n * SOFTWARE.\n */\n\nimport { createRequire } from \"node:module\";\nimport { default as Katex } from \"katex\";\nimport { tex } from \"./tex.js\";\nimport { escapeHtml } from \"./utils.js\";\n\nimport type { PluginWithOptions } from \"markdown-it\";\nimport type { KatexOptions as OriginalKatexOptions } from \"katex\";\nimport type { KatexOptions } from \"../../shared/index.js\";\n\nconst require = createRequire(import.meta.url);\n\n// set KaTeX as the renderer for markdown-it-simplemath\nconst katexInline = (tex: string, options: OriginalKatexOptions): string => {\n  try {\n    return Katex.renderToString(tex, { ...options, displayMode: false });\n  } catch (error) {\n    if (options.throwOnError) console.warn(error);\n\n    return `<span class='katex-error' title='${escapeHtml(\n      (error as Error).toString()\n    )}'>${escapeHtml(tex)}</span>`;\n  }\n};\n\nconst katexBlock = (tex: string, options: OriginalKatexOptions): string => {\n  try {\n    return `<p class='katex-block'>${Katex.renderToString(tex, {\n      ...options,\n      displayMode: true,\n      strict: (errorCode: string): string =>\n        errorCode === \"newLineInDisplayMode\" ? \"ignore\" : \"warn\",\n    })}</p>\\n`;\n  } catch (error) {\n    if (options.throwOnError) console.warn(error);\n\n    return `<p class='katex-block katex-error' title='${escapeHtml(\n      (error as Error).toString()\n    )}'>${escapeHtml(tex)}</p>\\n`;\n  }\n};\n\nexport const katex: PluginWithOptions<KatexOptions> = (md, options = {}) => {\n  const { mhchem = false, ...userOptions } = options;\n\n  if (mhchem) require(\"katex/contrib/mhchem\");\n\n  const katexOptions = {\n    throwOnError: false,\n    ...userOptions,\n  };\n\n  md.use(tex, {\n    render: (content, displayMode) =>\n      displayMode\n        ? katexBlock(content, katexOptions)\n        : katexInline(content, katexOptions),\n  });\n};\n","/**\n * Forked from https://github.com/tani/markdown-it-mathjax3/blob/master/index.ts\n *\n * The MIT License (MIT)\n *\n * Copyright (c) 2016 Waylon Flinn\n *\n * Permission is hereby granted, free of charge, to any person obtaining a copy\n * of this software and associated documentation files (the \"Software\"), to deal\n * in the Software without restriction, including without limitation the rights\n * to use, copy, modify, merge, publish, distribute, sublicense, and/or sell\n * copies of the Software, and to permit persons to whom the Software is\n * furnished to do so, subject to the following conditions:\n *\n * The above copyright notice and this permission notice shall be included in all\n * copies or substantial portions of the Software.\n *\n * THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR\n * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,\n * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE\n * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER\n * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,\n * OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE\n * SOFTWARE.\n */\n\nimport juice from \"juice\";\nimport { mathjax as MathJax } from \"mathjax-full/js/mathjax.js\";\nimport { TeX } from \"mathjax-full/js/input/tex.js\";\nimport { CHTML } from \"mathjax-full/js/output/chtml.js\";\nimport { SVG } from \"mathjax-full/js/output/svg.js\";\nimport { liteAdaptor } from \"mathjax-full/js/adaptors/liteAdaptor.js\";\nimport { RegisterHTMLHandler } from \"mathjax-full/js/handlers/html.js\";\nimport { AllPackages } from \"mathjax-full/js/input/tex/AllPackages.js\";\nimport { tex } from \"./tex.js\";\n\nimport type { PluginWithOptions } from \"markdown-it\";\nimport type { LiteElement } from \"mathjax-full/js/adaptors/lite/Element.js\";\nimport type { MathJaxOptions } from \"../../shared/index.js\";\n\ninterface DocumentOptions {\n  InputJax: TeX<LiteElement, string, HTMLElement>;\n  OutputJax:\n    | CHTML<LiteElement, string, HTMLElement>\n    | SVG<LiteElement, string, HTMLElement>;\n}\n\nconst renderMath = (\n  content: string,\n  documentOptions: DocumentOptions,\n  displayMode: boolean\n): string => {\n  const adaptor = liteAdaptor();\n\n  RegisterHTMLHandler(adaptor);\n  const mathDocument = MathJax.document(content, documentOptions);\n  /* eslint-disable */\n  const html = adaptor.outerHTML(\n    mathDocument.convert(content, { display: displayMode })\n  );\n  const stylesheet = adaptor.outerHTML(\n    documentOptions.OutputJax.styleSheet(mathDocument)\n  );\n\n  /* eslint-enable */\n  return juice(html + stylesheet);\n};\n\nexport const mathjax: PluginWithOptions<MathJaxOptions> = (\n  md,\n  options = {}\n) => {\n  const documentOptions = {\n    InputJax: new TeX<LiteElement, string, HTMLElement>({\n      packages: AllPackages,\n      ...options.tex,\n    }),\n    OutputJax:\n      options.output === \"chtml\"\n        ? new CHTML<LiteElement, string, HTMLElement>({\n            ...options.chtml,\n          })\n        : new SVG<LiteElement, string, HTMLElement>({\n            fontCache: \"none\",\n            ...options.svg,\n          }),\n  };\n\n  md.use(tex, {\n    render: (content, displayMode) =>\n      renderMath(content, documentOptions, displayMode),\n  });\n};\n","import type { PluginSimple } from \"markdown-it\";\n\nexport const lazyLoad: PluginSimple = (md) => {\n  const originalImageRender = md.renderer.rules.image!;\n\n  md.renderer.rules.image = (tokens, index, options, env, self): string => {\n    tokens[index].attrSet(\"loading\", \"lazy\");\n\n    return originalImageRender(tokens, index, options, env, self);\n  };\n};\n","/**\n * Forked from https://github.com/markdown-it/markdown-it-mark/blob/master/index.js\n *\n * Copyright (c) 2014-2015 Vitaly Puzrin, Alex Kocharin.\n *\n * Permission is hereby granted, free of charge, to any person\n * obtaining a copy of this software and associated documentation\n * files (the \"Software\"), to deal in the Software without\n * restriction, including without limitation the rights to use,\n * copy, modify, merge, publish, distribute, sublicense, and/or sell\n * copies of the Software, and to permit persons to whom the\n * Software is furnished to do so, subject to the following\n * conditions:\n *\n * The above copyright notice and this permission notice shall be\n * included in all copies or substantial portions of the Software.\n *\n * THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND,\n * EXPRESS OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES\n * OF MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND\n * NONINFRINGEMENT. IN NO EVENT SHALL THE AUTHORS OR COPYRIGHT\n * HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER LIABILITY,\n * WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING\n * FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR\n * OTHER DEALINGS IN THE SOFTWARE.\n */\n\nimport type { PluginSimple } from \"markdown-it\";\nimport type { RuleInline } from \"markdown-it/lib/parser_inline.js\";\nimport type { default as StateInline } from \"markdown-it/lib/rules_inline/state_inline.js\";\n\n/*\n * Insert each marker as a separate text token, and add it to delimiter list\n *\n */\nconst tokenize: RuleInline = (state, silent) => {\n  const start = state.pos;\n  const marker = state.src.charAt(start);\n\n  if (silent || marker !== \"=\") return false;\n\n  const scanned = state.scanDelims(state.pos, true);\n  let { length } = scanned;\n\n  if (length < 2) return false;\n  let token;\n\n  if (length % 2) {\n    token = state.push(\"text\", \"\", 0);\n    token.content = marker;\n    length -= 1;\n  }\n\n  for (let i = 0; i < length; i += 2) {\n    token = state.push(\"text\", \"\", 0);\n    token.content = `${marker}${marker}`;\n\n    if (scanned.can_open || scanned.can_close)\n      state.delimiters.push({\n        marker: 0x3d,\n        length: 0, // disable \"rule of 3\" length checks meant for emphasis\n        jump: i / 2, // 1 delimiter = 2 characters\n        token: state.tokens.length - 1,\n        end: -1,\n        open: scanned.can_open,\n        close: scanned.can_close,\n      });\n  }\n\n  state.pos += scanned.length;\n\n  return true;\n};\n\n/*\n * Walk through delimiter list and replace text tokens with tags\n *\n */\nconst postProcess = (\n  state: StateInline,\n  delimiters: StateInline.Delimiter[]\n): void => {\n  let token;\n  const loneMarkers = [];\n  const max = delimiters.length;\n\n  for (let i = 0; i < max; i++) {\n    const startDelim = delimiters[i];\n\n    if (startDelim.marker === 0x3d /* = */ && startDelim.end !== -1) {\n      const endDelim = delimiters[startDelim.end];\n\n      token = state.tokens[startDelim.token];\n      token.type = \"mark_open\";\n      token.tag = \"mark\";\n      token.nesting = 1;\n      token.markup = \"==\";\n      token.content = \"\";\n\n      token = state.tokens[endDelim.token];\n      token.type = \"mark_close\";\n      token.tag = \"mark\";\n      token.nesting = -1;\n      token.markup = \"==\";\n      token.content = \"\";\n\n      if (\n        state.tokens[endDelim.token - 1].type === \"text\" &&\n        state.tokens[endDelim.token - 1].content === \"=\"\n      )\n        loneMarkers.push(endDelim.token - 1);\n    }\n  }\n\n  /*\n   * If a marker sequence has an odd number of characters, its splitted\n   * like this: `~~~~~` -> `~` + `~~` + `~~`, leaving one marker at the\n   * start of the sequence.\n   *\n   * So, we have to move all those markers after subsequent s_close tags.\n   *\n   */\n  while (loneMarkers.length) {\n    const i = loneMarkers.pop()!;\n    let j = i + 1;\n\n    while (j < state.tokens.length && state.tokens[j].type === \"mark_close\")\n      j += 1;\n\n    j -= 1;\n\n    if (i !== j) {\n      token = state.tokens[j];\n      state.tokens[j] = state.tokens[i];\n      state.tokens[i] = token;\n    }\n  }\n};\n\nexport const mark: PluginSimple = (md) => {\n  md.inline.ruler.before(\"emphasis\", \"mark\", tokenize);\n  md.inline.ruler2.before(\"emphasis\", \"mark\", (state) => {\n    const tokensMeta = state.tokens_meta || [];\n\n    postProcess(state, state.delimiters);\n\n    for (let curr = 0; curr < tokensMeta.length; curr++) {\n      const tokenMeta = tokensMeta[curr];\n\n      if (tokenMeta?.delimiters) postProcess(state, tokenMeta.delimiters);\n    }\n\n    return true;\n  });\n};\n","import { fs, path } from \"@vuepress/utils\";\nimport { NEWLINES_RE } from \"./utils.js\";\n\nimport type { MarkdownEnv } from \"@vuepress/markdown\";\nimport type { PluginWithOptions } from \"markdown-it\";\nimport type { RuleBlock } from \"markdown-it/lib/parser_block.js\";\nimport type { RuleCore } from \"markdown-it/lib/parser_core.js\";\nimport type { default as Token } from \"markdown-it/lib/token.js\";\nimport type { IncludeOptions } from \"../../shared/index.js\";\n\ninterface ImportFileInfo {\n  filePath: string;\n  lineStart: number;\n  lineEnd: number | undefined;\n}\n\ninterface IncludeInfo {\n  cwd: string | null;\n  includedFiles: string[];\n  resolvedPath?: boolean;\n}\n\ninterface IncludeEnv extends MarkdownEnv {\n  /** included current paths */\n  includedPaths?: string[];\n  /** included files */\n  includedFiles?: string[];\n}\n\n// regexp to match the import syntax\nconst SYNTAX_RE = /^@include\\(([^)]*?)(?:\\{(\\d+)?-(\\d+)?\\})?\\)$/;\n\nexport const handleInclude = (\n  { filePath, lineStart, lineEnd }: ImportFileInfo,\n  { cwd, includedFiles, resolvedPath }: IncludeInfo\n): string => {\n  let realPath = filePath;\n\n  if (!path.isAbsolute(filePath)) {\n    // if the importPath is relative path, we need to resolve it\n    // according to the markdown filePath\n    if (!cwd) {\n      console.error(`Include: Error when resolving path: ${filePath}`);\n\n      return \"\\nError when resolving path\\n\";\n    }\n\n    realPath = path.resolve(cwd, filePath);\n  }\n\n  includedFiles.push(realPath);\n\n  // check file existence\n  if (!fs.existsSync(realPath)) {\n    console.error(`Include: ${realPath} not found`);\n\n    return \"\\nFile not found\\n\";\n  }\n\n  // read file content\n  const fileContent = fs.readFileSync(realPath).toString();\n\n  // return content\n  const result = fileContent\n    .replace(NEWLINES_RE, \"\\n\")\n    .split(\"\\n\")\n    .slice(lineStart ? lineStart - 1 : lineStart, lineEnd);\n\n  if (resolvedPath && realPath.endsWith(\".md\")) {\n    const dirName = path.dirname(realPath);\n\n    result.unshift(`@include-push(${dirName})`);\n    result.push(\"@include-pop()\");\n  }\n\n  return result.join(\"\\n\").replace(/\\n?$/, \"\\n\");\n};\n\nexport const resolveInclude = (\n  content: string,\n  options: Required<IncludeOptions>,\n  { cwd, includedFiles }: IncludeInfo\n): string =>\n  content\n    .split(\"\\n\")\n    .map((line) => {\n      if (line.startsWith(\"@include\")) {\n        // check if its matched the syntax\n        const match = line.match(SYNTAX_RE);\n\n        if (match) {\n          const [, includePath, lineStart, lineEnd] = match;\n          const actualPath = options.getPath(includePath);\n          const resolvedPath =\n            options.resolveImagePath || options.resolveLinkPath;\n\n          const content = handleInclude(\n            {\n              filePath: actualPath,\n              lineStart: lineStart ? Number.parseInt(lineStart, 10) : 0,\n              lineEnd: lineEnd ? Number.parseInt(lineEnd, 10) : undefined,\n            },\n            { cwd, includedFiles, resolvedPath }\n          );\n\n          return options.deep && actualPath.endsWith(\".md\")\n            ? resolveInclude(content, options, {\n                cwd: path.isAbsolute(actualPath)\n                  ? path.dirname(actualPath)\n                  : cwd\n                  ? path.resolve(cwd, path.dirname(actualPath))\n                  : null,\n                includedFiles,\n              })\n            : content;\n        }\n      }\n\n      return line;\n    })\n    .join(\"\\n\");\n\nexport const createIncludeCoreRule =\n  (options: Required<IncludeOptions>): RuleCore =>\n  (state): void => {\n    const env = <IncludeEnv>state.env;\n    const includedFiles = env.includedFiles || (env.includedFiles = []);\n\n    state.src = resolveInclude(state.src, options, {\n      cwd: env.filePath ? path.dirname(env.filePath) : null,\n      includedFiles,\n    });\n  };\n\nconst SYNTAX_PUSH_RE = /^@include-push\\(([^)]*?)\\)$/;\nconst SYNTAX_POP_RE = /^@include-pop\\(\\)$/;\n\nconst includePushRule: RuleBlock = (state, startLine, _, silent): boolean => {\n  const pos = state.bMarks[startLine] + state.tShift[startLine];\n  const max = state.eMarks[startLine];\n  const content = state.src.slice(pos, max);\n  let result: boolean = content.startsWith(\"@include-push\");\n\n  if (result) {\n    // check if its matched the syntax\n    const match = content.match(SYNTAX_PUSH_RE);\n\n    if (match) {\n      if (silent) return true;\n\n      const [, includePath] = match;\n\n      state.line = startLine + 1;\n      const token = state.push(\"include_push\", \"\", 0);\n\n      token.map = [startLine, state.line];\n      token.info = includePath;\n      token.markup = \"incPush\";\n    } else {\n      result = false;\n    }\n  }\n\n  return result;\n};\n\nconst includePopRule: RuleBlock = (state, startLine, _, silent): boolean => {\n  const pos = state.bMarks[startLine] + state.tShift[startLine];\n  const max = state.eMarks[startLine];\n  const content = state.src.slice(pos, max);\n  let result: boolean = content.startsWith(\"@include-pop\");\n\n  if (result) {\n    const match = content.match(SYNTAX_POP_RE);\n\n    if (match) {\n      if (silent) return true;\n\n      state.line = startLine + 1;\n\n      const token = state.push(\"include_pop\", \"\", 0);\n\n      token.map = [startLine, state.line];\n      token.markup = \"incPop\";\n    } else result = false;\n  }\n\n  return result;\n};\n\nconst resolveRelatedLink = (\n  attr: string,\n  token: Token,\n  filePath: string,\n  includedPaths?: string[]\n): void => {\n  const attrIndex = token.attrIndex(attr);\n  const url = token.attrs?.[attrIndex][1];\n\n  if (url?.startsWith(\".\") && Array.isArray(includedPaths)) {\n    const { length } = includedPaths;\n\n    if (length) {\n      const includeDir = path.relative(\n        path.dirname(filePath),\n        includedPaths[length - 1]\n      );\n\n      token.attrs![attrIndex][1] = `.${path.sep}${path.join(includeDir, url)}`;\n    }\n  }\n};\n\nexport const include: PluginWithOptions<IncludeOptions> = (\n  md,\n  {\n    getPath = (path: string): string => path,\n    deep = false,\n    resolveLinkPath = true,\n    resolveImagePath = true,\n  } = {}\n): void => {\n  // add md_import core rule\n  md.core.ruler.after(\n    \"normalize\",\n    \"md_import\",\n    createIncludeCoreRule({ getPath, deep, resolveLinkPath, resolveImagePath })\n  );\n\n  if (resolveImagePath || resolveLinkPath) {\n    md.block.ruler.before(\"table\", \"md_include_push\", includePushRule, {\n      alt: [\"paragraph\", \"reference\", \"blockquote\", \"list\"],\n    });\n    md.block.ruler.before(\"table\", \"md_include_pop\", includePopRule, {\n      alt: [\"paragraph\", \"reference\", \"blockquote\", \"list\"],\n    });\n\n    md.renderer.rules[\"include_push\"] = (\n      tokens,\n      index,\n      _options,\n      env: IncludeEnv\n    ): string => {\n      const token = tokens[index];\n      const includedPaths = env.includedPaths || (env.includedPaths = []);\n\n      includedPaths.push(token.info);\n\n      return \"\";\n    };\n\n    md.renderer.rules[\"include_pop\"] = (\n      _tokens,\n      _index,\n      _options,\n      env: IncludeEnv\n    ): string => {\n      const includedPaths = env.includedPaths;\n\n      if (Array.isArray(includedPaths)) includedPaths.pop();\n      else console.error(`Include: include_pop failed, no include_push.`);\n\n      return \"\";\n    };\n\n    if (resolveImagePath) {\n      const defaultRender = md.renderer.rules.image!;\n\n      md.renderer.rules.image = (\n        tokens,\n        index,\n        options,\n        env: IncludeEnv,\n        self\n      ): string => {\n        const token = tokens[index];\n\n        if (env.filePath)\n          resolveRelatedLink(\"src\", token, env.filePath, env.includedPaths);\n\n        // pass token to default renderer.\n        return defaultRender(tokens, index, options, env, self);\n      };\n    }\n\n    if (resolveLinkPath) {\n      const defaultRender =\n        md.renderer.rules[\"link_open\"] ||\n        ((tokens, index, options, _env, self): string =>\n          self.renderToken(tokens, index, options));\n\n      md.renderer.rules[\"link_open\"] = (\n        tokens,\n        index,\n        options,\n        env: IncludeEnv,\n        self\n      ): string => {\n        const token = tokens[index];\n\n        if (env.filePath)\n          resolveRelatedLink(\"href\", token, env.filePath, env.includedPaths);\n\n        // pass token to default renderer.\n        return defaultRender(tokens, index, options, env, self);\n      };\n    }\n  }\n};\n","import { utoa } from \"vuepress-shared\";\nimport type { PluginSimple } from \"markdown-it\";\nimport type { default as Renderer } from \"markdown-it/lib/renderer.js\";\n\nconst mermaidRender: Renderer.RenderRule = (tokens, index) => {\n  const token = tokens[index];\n  const key = `mermaid-${index}`;\n  const { content } = token;\n\n  return `<Mermaid id=\"${key}\" code=\"${utoa(content)}\"></Mermaid>`;\n};\n\n// a hack for sequenceDiagram\nconst mermaidHackRender = (\n  name: string,\n  content: string,\n  index: number\n): string =>\n  `<Mermaid id=\"mermaid-${index}\" code=\"${utoa(\n    `${name}\\n${content\n      .split(\"\\n\")\n      .map((line) => (line ? `  ${line}` : \"\"))\n      .join(\"\\n\")}`\n  )}\"></Mermaid>`;\n\nexport const mermaid: PluginSimple = (md) => {\n  // Handle ```mermaid blocks\n  const fence = md.renderer.rules.fence;\n\n  md.renderer.rules.fence = (...args): string => {\n    const [tokens, index] = args;\n    const { content, info } = tokens[index];\n\n    if (info.trim() === \"mermaid\") return mermaidRender(...args);\n    if (info.trim() === \"sequence\")\n      return mermaidHackRender(\"sequenceDiagram\", content, index);\n    if (info.trim() === \"class\")\n      return mermaidHackRender(\"classDiagram\", content, index);\n    if (info.trim() === \"state\")\n      return mermaidHackRender(\"stateDiagram-v2\", content, index);\n    if (info.trim() === \"er\")\n      return mermaidHackRender(\"erDiagram\", content, index);\n    if (info.trim() === \"journey\")\n      return mermaidHackRender(\"journey\", content, index);\n    if (info.trim() === \"gantt\")\n      return mermaidHackRender(\"gantt\", content, index);\n    if (info.trim() === \"pie\") return mermaidHackRender(\"pie\", content, index);\n    if (info.trim() === \"git-graph\")\n      return mermaidHackRender(\"gitGraph\", content, index);\n    if (info.trim() === \"c4c\")\n      return mermaidHackRender(\"C4Context\", content, index);\n\n    return fence!(...args);\n  };\n\n  md.renderer.rules[\"mermaid\"] = mermaidRender;\n};\n","import { hash } from \"@vuepress/utils\";\nimport { escapeHtml } from \"../utils.js\";\n\nimport type { PluginWithOptions } from \"markdown-it\";\nimport type { RuleBlock } from \"markdown-it/lib/parser_block.js\";\nimport type {\n  PlaygroundData,\n  PlaygroundOptions,\n} from \"../../../shared/index.js\";\n\nconst AT_MARKER = `@`;\nconst VALID_MARKERS = [\"file\", \"import\", \"setting\"];\n\nconst getPlaygroundRule =\n  (name: string): RuleBlock =>\n  (state, startLine, endLine, silent) => {\n    let start = state.bMarks[startLine] + state.tShift[startLine];\n    let max = state.eMarks[startLine];\n\n    // Check out the first character quickly,\n    // this should filter out most of non-containers\n    if (state.src[start] !== \":\") return false;\n\n    let pos = start + 1;\n\n    // Check out the rest of the marker string\n    while (pos <= max) {\n      if (state.src[pos] !== \":\") break;\n      pos += 1;\n    }\n\n    const markerCount = pos - start;\n\n    if (markerCount < 3) return false;\n\n    const markup = state.src.slice(start, pos);\n    const params = state.src.slice(pos, max);\n\n    const containerName = params.trimStart().split(\" \", 2)[0];\n\n    const title = params.trimStart().slice(name.length).trim();\n\n    if (containerName.trim() !== name) return false;\n\n    // Since start is found, we can report success here in validation mode\n    if (silent) return true;\n\n    // Search for the end of the block\n    let nextLine = startLine;\n    let autoClosed = false;\n\n    // Search for the end of the block\n    while (\n      // unclosed block should be autoclosed by end of document.\n      // also block seems to be autoclosed by end of parent\n      nextLine < endLine\n    ) {\n      nextLine += 1;\n      start = state.bMarks[nextLine] + state.tShift[nextLine];\n      max = state.eMarks[nextLine];\n\n      if (start < max && state.sCount[nextLine] < state.blkIndent)\n        // non-empty line with negative indent should stop the list:\n        // - ```\n        //  test\n        break;\n\n      if (\n        // match start\n\n        state.src[start] === \":\" &&\n        // closing fence should be indented less than 4 spaces\n        state.sCount[nextLine] - state.blkIndent < 4\n      ) {\n        // check rest of marker\n        for (pos = start + 1; pos <= max; pos++)\n          if (state.src[pos] !== \":\") break;\n\n        // closing code fence must be at least as long as the opening one\n        if (pos - start >= markerCount) {\n          // make sure tail has spaces only\n          pos = state.skipSpaces(pos);\n\n          if (pos >= max) {\n            // found!\n            autoClosed = true;\n            break;\n          }\n        }\n      }\n    }\n\n    const oldParent = state.parentType;\n    const oldLineMax = state.lineMax;\n\n    // eslint-disable-next-line @typescript-eslint/ban-ts-comment\n    // @ts-expect-error\n    state.parentType = `${name}`;\n\n    // this will prevent lazy continuations from ever going past our end marker\n    state.lineMax = nextLine - (autoClosed ? 1 : 0);\n\n    const openToken = state.push(`${name}_open`, \"template\", 1);\n\n    openToken.markup = markup;\n    openToken.block = true;\n    openToken.info = title;\n    openToken.map = [startLine, nextLine - (autoClosed ? 1 : 0)];\n\n    state.md.block.tokenize(\n      state,\n      startLine + 1,\n      nextLine - (autoClosed ? 1 : 0)\n    );\n\n    const closeToken = state.push(`${name}_close`, \"template\", -1);\n\n    closeToken.markup = state.src.slice(start, pos);\n    closeToken.block = true;\n\n    state.parentType = oldParent;\n    state.lineMax = oldLineMax;\n    state.line = nextLine + (autoClosed ? 1 : 0);\n\n    return true;\n  };\n\nconst atMarkerRule =\n  (markerName: string): RuleBlock =>\n  (state, startLine, endLine, silent) => {\n    let start = state.bMarks[startLine] + state.tShift[startLine];\n    let max = state.eMarks[startLine];\n\n    const atMarker = `${AT_MARKER}${markerName}`;\n\n    /*\n     * Check out the first character quickly,\n     * this should filter out most of non-uml blocks\n     */\n    if (state.src.charAt(start) !== \"@\") return false;\n\n    let index;\n\n    // Check out the rest of the marker string\n    for (index = 0; index < atMarker.length; index++)\n      if (atMarker[index] !== state.src[start + index]) return false;\n\n    const markup = state.src.slice(start, start + index);\n    const info = state.src.slice(start + index, max);\n\n    // Since start is found, we can report success here in validation mode\n    if (silent) return true;\n\n    let nextLine = startLine;\n    let autoClosed = false;\n\n    // Search for the end of the block\n    while (\n      // unclosed block should be autoclosed by end of document.\n      // also block seems to be autoclosed by end of parent\n      nextLine < endLine\n    ) {\n      nextLine += 1;\n      start = state.bMarks[nextLine] + state.tShift[nextLine];\n      max = state.eMarks[nextLine];\n\n      if (start < max && state.sCount[nextLine] < state.blkIndent)\n        // non-empty line with negative indent should stop the list:\n        // - ```\n        //  test\n        break;\n\n      if (\n        // match start\n        state.src[start] === AT_MARKER &&\n        // marker should not be indented with respect of opening fence\n        state.sCount[nextLine] <= state.sCount[startLine]\n      ) {\n        let openMakerMatched = true;\n\n        for (index = 0; index < atMarker.length; index++)\n          if (atMarker[index] !== state.src[start + index]) {\n            openMakerMatched = false;\n            break;\n          }\n\n        if (openMakerMatched) {\n          // found!\n          autoClosed = true;\n          nextLine -= 1;\n          break;\n        }\n      }\n    }\n\n    const oldParent = state.parentType;\n    const oldLineMax = state.lineMax;\n\n    // eslint-disable-next-line @typescript-eslint/ban-ts-comment\n    // @ts-expect-error\n    state.parentType = `${markerName}`;\n\n    // this will prevent lazy continuations from ever going past our end marker\n    state.lineMax = nextLine;\n\n    const openToken = state.push(`${markerName}_open`, \"template\", 1);\n\n    openToken.block = true;\n    openToken.markup = markup;\n    openToken.info = info.trim();\n\n    // eslint-disable-next-line @typescript-eslint/no-unsafe-member-access\n    openToken.map = [startLine, nextLine];\n\n    state.md.block.tokenize(state, startLine + 1, nextLine);\n\n    const closeToken = state.push(`${markerName}_close`, \"template\", -1);\n\n    closeToken.block = true;\n    closeToken.markup = \"\";\n\n    state.parentType = oldParent;\n    state.lineMax = oldLineMax;\n    state.line = nextLine + (autoClosed ? 1 : 0);\n\n    return true;\n  };\n\nexport const playground: PluginWithOptions<PlaygroundOptions> = (\n  md,\n  { name = \"playground\", component = \"Playground\", propsGetter } = {\n    name: \"playground\",\n    component: \"Playground\",\n    propsGetter: (playgroundData: PlaygroundData): Record<string, string> => ({\n      key: playgroundData.key,\n      title: playgroundData.title || \"\",\n      files: encodeURIComponent(JSON.stringify(playgroundData.files)),\n      settings: encodeURIComponent(\n        JSON.stringify(playgroundData.settings || {})\n      ),\n    }),\n  }\n) => {\n  md.block.ruler.before(\"fence\", `${name}`, getPlaygroundRule(name), {\n    alt: [\"paragraph\", \"reference\", \"blockquote\", \"list\"],\n  });\n\n  VALID_MARKERS.forEach((marker) => {\n    // WARNING:  Here we use an internal variable to make sure tab rule is not registered\n    // eslint-disable-next-line @typescript-eslint/ban-ts-comment\n    // @ts-ignore\n    // eslint-disable-next-line\n    if (!md.block.ruler.__rules__.find(({ name }) => name === \"marker\"))\n      md.block.ruler.before(\"fence\", \"tab\", atMarkerRule(marker), {\n        alt: [\"paragraph\", \"reference\", \"blockquote\", \"list\"],\n      });\n  });\n\n  md.renderer.rules[`${name}_open`] = (tokens, index): string => {\n    // eslint-disable-next-line @typescript-eslint/no-unsafe-assignment\n    const { info } = tokens[index];\n\n    const playgroundData: PlaygroundData = {\n      key: hash(`playground${index}-${info}`),\n      title: encodeURIComponent(info),\n      settings: {},\n      files: {},\n    };\n\n    let currentKey: string | null = null;\n    let foundSettings = false;\n\n    for (let i = index; i < tokens.length; i++) {\n      const { block, type, info, content } = tokens[i];\n\n      if (block) {\n        if (type === `${name}_close`) break;\n        if (type === `${name}_open`) continue;\n\n        if (type === \"file_open\") {\n          // File rule must contain a valid file name\n          if (!info) continue;\n          currentKey = info;\n        } else if (type === \"import_open\")\n          playgroundData.importMap = currentKey = info || \"import-map.json\";\n\n        if (type === \"setting_open\") foundSettings = true;\n        if (type === \"setting_close\") foundSettings = false;\n\n        if (\n          type === \"file_close\" ||\n          type === \"import_close\" ||\n          type === \"setting_close\" ||\n          !content\n        ) {\n          tokens[i].type = `${name}_empty`;\n          tokens[i].hidden = true;\n          continue;\n        }\n\n        // parse settings\n        if (foundSettings) {\n          if (type === \"fence\" && info === \"json\")\n            playgroundData.settings = <Record<string, unknown>>(\n              JSON.parse(content.trim())\n            );\n\n          continue;\n        }\n\n        // add code block content\n        if (type === \"fence\" && currentKey)\n          playgroundData.files[currentKey] = {\n            ext: info,\n            content: content,\n          };\n\n        tokens[i].type = `${name}_empty`;\n        tokens[i].hidden = true;\n      }\n    }\n\n    const props = propsGetter(playgroundData);\n\n    return `<${component} ${Object.entries(props)\n      .map(([attr, value]) => `${attr}=\"${escapeHtml(value)}\"`)\n      .join(\" \")}>\\n`;\n  };\n\n  md.renderer.rules[`${name}_close`] = (): string => `</${component}>\\n`;\n};\n","/* eslint-disable */\n/**\n * Edited from https://github.com/microsoft/TypeScript-Website/blob/v2/packages/sandbox/src/vendor/lzstring.min.js\n */\n\n// Original license reproduced below:\n\n// DO WHAT THE FUCK YOU WANT TO PUBLIC LICENSE\n//                     Version 2, December 2004\n//\n//  Copyright (C) 2004 Sam Hocevar <sam@hocevar.net>\n//\n//  Everyone is permitted to copy and distribute verbatim or modified\n//  copies of this license document, and changing it is allowed as long\n//  as the name is changed.\n//\n//             DO WHAT THE FUCK YOU WANT TO PUBLIC LICENSE\n//    TERMS AND CONDITIONS FOR COPYING, DISTRIBUTION AND MODIFICATION\n//\n//   0. You just DO WHAT THE FUCK YOU WANT TO.\n//\n\nconst e = \"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+-$\";\n\nconst compress = (o: string, r: number, n: (pos: number) => string) => {\n  if (null == o) return \"\";\n\n  let e,\n    t,\n    i,\n    s = <Record<string, number>>{},\n    p = <Record<string, boolean>>{},\n    u = \"\",\n    c = \"\",\n    a = \"\",\n    l = 2,\n    f = 3,\n    h = 2,\n    d = [],\n    m = 0,\n    v = 0;\n\n  for (i = 0; i < o.length; i += 1)\n    if (\n      ((u = o.charAt(i)),\n      Object.prototype.hasOwnProperty.call(s, u) || ((s[u] = f++), (p[u] = !0)),\n      (c = a + u),\n      Object.prototype.hasOwnProperty.call(s, c))\n    )\n      a = c;\n    else {\n      if (Object.prototype.hasOwnProperty.call(p, a)) {\n        if (a.charCodeAt(0) < 256) {\n          for (e = 0; h > e; e++)\n            (m <<= 1), v == r - 1 ? ((v = 0), d.push(n(m)), (m = 0)) : v++;\n          for (t = a.charCodeAt(0), e = 0; 8 > e; e++)\n            (m = (m << 1) | (1 & t)),\n              v == r - 1 ? ((v = 0), d.push(n(m)), (m = 0)) : v++,\n              (t >>= 1);\n        } else {\n          for (t = 1, e = 0; h > e; e++)\n            (m = (m << 1) | t),\n              v == r - 1 ? ((v = 0), d.push(n(m)), (m = 0)) : v++,\n              (t = 0);\n          for (t = a.charCodeAt(0), e = 0; 16 > e; e++)\n            (m = (m << 1) | (1 & t)),\n              v == r - 1 ? ((v = 0), d.push(n(m)), (m = 0)) : v++,\n              (t >>= 1);\n        }\n        l--, 0 == l && ((l = Math.pow(2, h)), h++), delete p[a];\n      } else\n        for (t = s[a], e = 0; h > e; e++)\n          (m = (m << 1) | (1 & t)),\n            v == r - 1 ? ((v = 0), d.push(n(m)), (m = 0)) : v++,\n            (t >>= 1);\n      l--, 0 == l && ((l = Math.pow(2, h)), h++), (s[c] = f++), (a = String(u));\n    }\n\n  if (\"\" !== a) {\n    if (Object.prototype.hasOwnProperty.call(p, a)) {\n      if (a.charCodeAt(0) < 256) {\n        for (e = 0; h > e; e++)\n          (m <<= 1), v == r - 1 ? ((v = 0), d.push(n(m)), (m = 0)) : v++;\n        for (t = a.charCodeAt(0), e = 0; 8 > e; e++)\n          (m = (m << 1) | (1 & t)),\n            v == r - 1 ? ((v = 0), d.push(n(m)), (m = 0)) : v++,\n            (t >>= 1);\n      } else {\n        for (t = 1, e = 0; h > e; e++)\n          (m = (m << 1) | t),\n            v == r - 1 ? ((v = 0), d.push(n(m)), (m = 0)) : v++,\n            (t = 0);\n        for (t = a.charCodeAt(0), e = 0; 16 > e; e++)\n          (m = (m << 1) | (1 & t)),\n            v == r - 1 ? ((v = 0), d.push(n(m)), (m = 0)) : v++,\n            (t >>= 1);\n      }\n      l--, 0 == l && ((l = Math.pow(2, h)), h++), delete p[a];\n    } else\n      for (t = s[a], e = 0; h > e; e++)\n        (m = (m << 1) | (1 & t)),\n          v == r - 1 ? ((v = 0), d.push(n(m)), (m = 0)) : v++,\n          (t >>= 1);\n    l--, 0 == l && ((l = Math.pow(2, h)), h++);\n  }\n\n  for (t = 2, e = 0; h > e; e++)\n    (m = (m << 1) | (1 & t)),\n      v == r - 1 ? ((v = 0), d.push(n(m)), (m = 0)) : v++,\n      (t >>= 1);\n\n  for (;;) {\n    if (((m <<= 1), v == r - 1)) {\n      d.push(n(m));\n      break;\n    }\n    v++;\n  }\n\n  return d.join(\"\");\n};\n\nexport const compressToEncodedURIComponent = (content: string) =>\n  compress(content, 6, (pos: number) => e.charAt(pos));\n","/**\n * This file needs to be updated with typescript major and minor updates\n *\n * Generated from the following code:\n *\n\nJSON.stringify(\n  ts.optionDeclarations.map(({ name, type }) => ({\n    name,\n    type: type instanceof Map ? Object.fromEntries(type) : type,\n  }))\n)\n *\n */\n\nexport const optionDeclarations = [\n  { name: \"help\", type: \"boolean\" },\n  { name: \"help\", type: \"boolean\" },\n  { name: \"watch\", type: \"boolean\" },\n  { name: \"preserveWatchOutput\", type: \"boolean\" },\n  { name: \"listFiles\", type: \"boolean\" },\n  { name: \"explainFiles\", type: \"boolean\" },\n  { name: \"listEmittedFiles\", type: \"boolean\" },\n  { name: \"pretty\", type: \"boolean\" },\n  { name: \"traceResolution\", type: \"boolean\" },\n  { name: \"diagnostics\", type: \"boolean\" },\n  { name: \"extendedDiagnostics\", type: \"boolean\" },\n  { name: \"generateCpuProfile\", type: \"string\" },\n  { name: \"generateTrace\", type: \"string\" },\n  { name: \"incremental\", type: \"boolean\" },\n  { name: \"assumeChangesOnlyAffectDirectDependencies\", type: \"boolean\" },\n  { name: \"locale\", type: \"string\" },\n  { name: \"all\", type: \"boolean\" },\n  { name: \"version\", type: \"boolean\" },\n  { name: \"init\", type: \"boolean\" },\n  { name: \"project\", type: \"string\" },\n  { name: \"build\", type: \"boolean\" },\n  { name: \"showConfig\", type: \"boolean\" },\n  { name: \"listFilesOnly\", type: \"boolean\" },\n  {\n    name: \"target\",\n    type: {\n      es3: 0,\n      es5: 1,\n      es6: 2,\n      es2015: 2,\n      es2016: 3,\n      es2017: 4,\n      es2018: 5,\n      es2019: 6,\n      es2020: 7,\n      es2021: 8,\n      es2022: 9,\n      esnext: 99,\n    },\n  },\n  {\n    name: \"module\",\n    type: {\n      none: 0,\n      commonjs: 1,\n      amd: 2,\n      system: 4,\n      umd: 3,\n      es6: 5,\n      es2015: 5,\n      es2020: 6,\n      es2022: 7,\n      esnext: 99,\n      node16: 100,\n      nodenext: 199,\n    },\n  },\n  { name: \"lib\", type: \"list\" },\n  { name: \"allowJs\", type: \"boolean\" },\n  { name: \"checkJs\", type: \"boolean\" },\n  {\n    name: \"jsx\",\n    type: {\n      preserve: 1,\n      \"react-native\": 3,\n      react: 2,\n      \"react-jsx\": 4,\n      \"react-jsxdev\": 5,\n    },\n  },\n  { name: \"declaration\", type: \"boolean\" },\n  { name: \"declarationMap\", type: \"boolean\" },\n  { name: \"emitDeclarationOnly\", type: \"boolean\" },\n  { name: \"sourceMap\", type: \"boolean\" },\n  { name: \"outFile\", type: \"string\" },\n  { name: \"outDir\", type: \"string\" },\n  { name: \"rootDir\", type: \"string\" },\n  { name: \"composite\", type: \"boolean\" },\n  { name: \"tsBuildInfoFile\", type: \"string\" },\n  { name: \"removeComments\", type: \"boolean\" },\n  { name: \"noEmit\", type: \"boolean\" },\n  { name: \"importHelpers\", type: \"boolean\" },\n  {\n    name: \"importsNotUsedAsValues\",\n    type: { remove: 0, preserve: 1, error: 2 },\n  },\n  { name: \"downlevelIteration\", type: \"boolean\" },\n  { name: \"isolatedModules\", type: \"boolean\" },\n  { name: \"strict\", type: \"boolean\" },\n  { name: \"noImplicitAny\", type: \"boolean\" },\n  { name: \"strictNullChecks\", type: \"boolean\" },\n  { name: \"strictFunctionTypes\", type: \"boolean\" },\n  { name: \"strictBindCallApply\", type: \"boolean\" },\n  { name: \"strictPropertyInitialization\", type: \"boolean\" },\n  { name: \"noImplicitThis\", type: \"boolean\" },\n  { name: \"useUnknownInCatchVariables\", type: \"boolean\" },\n  { name: \"alwaysStrict\", type: \"boolean\" },\n  { name: \"noUnusedLocals\", type: \"boolean\" },\n  { name: \"noUnusedParameters\", type: \"boolean\" },\n  { name: \"exactOptionalPropertyTypes\", type: \"boolean\" },\n  { name: \"noImplicitReturns\", type: \"boolean\" },\n  { name: \"noFallthroughCasesInSwitch\", type: \"boolean\" },\n  { name: \"noUncheckedIndexedAccess\", type: \"boolean\" },\n  { name: \"noImplicitOverride\", type: \"boolean\" },\n  { name: \"noPropertyAccessFromIndexSignature\", type: \"boolean\" },\n  {\n    name: \"moduleResolution\",\n    type: { node: 2, classic: 1, node16: 3, nodenext: 99 },\n  },\n  { name: \"baseUrl\", type: \"string\" },\n  { name: \"paths\", type: \"object\" },\n  { name: \"rootDirs\", type: \"list\" },\n  { name: \"typeRoots\", type: \"list\" },\n  { name: \"types\", type: \"list\" },\n  { name: \"allowSyntheticDefaultImports\", type: \"boolean\" },\n  { name: \"esModuleInterop\", type: \"boolean\" },\n  { name: \"preserveSymlinks\", type: \"boolean\" },\n  { name: \"allowUmdGlobalAccess\", type: \"boolean\" },\n  { name: \"moduleSuffixes\", type: \"list\" },\n  { name: \"sourceRoot\", type: \"string\" },\n  { name: \"mapRoot\", type: \"string\" },\n  { name: \"inlineSourceMap\", type: \"boolean\" },\n  { name: \"inlineSources\", type: \"boolean\" },\n  { name: \"experimentalDecorators\", type: \"boolean\" },\n  { name: \"emitDecoratorMetadata\", type: \"boolean\" },\n  { name: \"jsxFactory\", type: \"string\" },\n  { name: \"jsxFragmentFactory\", type: \"string\" },\n  { name: \"jsxImportSource\", type: \"string\" },\n  { name: \"resolveJsonModule\", type: \"boolean\" },\n  { name: \"out\", type: \"string\" },\n  { name: \"reactNamespace\", type: \"string\" },\n  { name: \"skipDefaultLibCheck\", type: \"boolean\" },\n  { name: \"charset\", type: \"string\" },\n  { name: \"emitBOM\", type: \"boolean\" },\n  { name: \"newLine\", type: { crlf: 0, lf: 1 } },\n  { name: \"noErrorTruncation\", type: \"boolean\" },\n  { name: \"noLib\", type: \"boolean\" },\n  { name: \"noResolve\", type: \"boolean\" },\n  { name: \"stripInternal\", type: \"boolean\" },\n  { name: \"disableSizeLimit\", type: \"boolean\" },\n  { name: \"disableSourceOfProjectReferenceRedirect\", type: \"boolean\" },\n  { name: \"disableSolutionSearching\", type: \"boolean\" },\n  { name: \"disableReferencedProjectLoad\", type: \"boolean\" },\n  { name: \"noImplicitUseStrict\", type: \"boolean\" },\n  { name: \"noEmitHelpers\", type: \"boolean\" },\n  { name: \"noEmitOnError\", type: \"boolean\" },\n  { name: \"preserveConstEnums\", type: \"boolean\" },\n  { name: \"declarationDir\", type: \"string\" },\n  { name: \"skipLibCheck\", type: \"boolean\" },\n  { name: \"allowUnusedLabels\", type: \"boolean\" },\n  { name: \"allowUnreachableCode\", type: \"boolean\" },\n  { name: \"suppressExcessPropertyErrors\", type: \"boolean\" },\n  { name: \"suppressImplicitAnyIndexErrors\", type: \"boolean\" },\n  { name: \"forceConsistentCasingInFileNames\", type: \"boolean\" },\n  { name: \"maxNodeModuleJsDepth\", type: \"number\" },\n  { name: \"noStrictGenericChecks\", type: \"boolean\" },\n  { name: \"useDefineForClassFields\", type: \"boolean\" },\n  { name: \"preserveValueImports\", type: \"boolean\" },\n  { name: \"keyofStringsOnly\", type: \"boolean\" },\n  { name: \"plugins\", type: \"list\" },\n  { name: \"moduleDetection\", type: { auto: 2, legacy: 1, force: 3 } },\n];\n","import { deepAssign } from \"vuepress-shared\";\nimport { compressToEncodedURIComponent } from \"./ventors/lzstring.js\";\nimport { optionDeclarations } from \"./ventors/optionDelcarations.js\";\n\nimport type { CompilerOptions } from \"typescript\";\nimport type {\n  PlaygroundData,\n  PlaygroundOptions,\n  TSPresetPlaygroundOptions,\n} from \"../../../shared/index.js\";\n\n/** Gets a query string representation (hash + queries) */\nexport const getURL = (\n  code: string,\n  compilerOptions: CompilerOptions = {}\n): string => {\n  const hash = `#code/${compressToEncodedURIComponent(code)}`;\n\n  const queryString = Object.entries(compilerOptions)\n    .map(([key, value]) => {\n      const item = optionDeclarations.find((option) => option.name === key)!;\n\n      if (!item || value === null || value === undefined) return \"\";\n\n      const { type } = item;\n\n      if (typeof type === \"object\") {\n        const result = type[value as keyof typeof type];\n\n        return result?.toString() || \"\";\n      }\n\n      return `${key}=${encodeURIComponent(value as string)}`;\n    })\n    .filter((value) => value.length)\n    .join(\"&\");\n\n  return `${queryString ? `?${queryString}` : \"\"}${hash}`;\n};\n\nexport const getTSPlaygroundPreset = ({\n  service = \"https://www.typescriptlang.org/play\",\n  ...compilerOptions\n}: TSPresetPlaygroundOptions = {}): PlaygroundOptions => ({\n  name: \"playground#ts\",\n  propsGetter: ({\n    title = \"\",\n    files,\n    settings,\n    key,\n  }: PlaygroundData): Record<string, string> => {\n    const tsfiles = Object.keys(files).filter((key) => key.endsWith(\".ts\"));\n\n    if (tsfiles.length !== 1)\n      console.error(\"TS playground only support 1 ts file\");\n\n    const link = `${service}${getURL(\n      files[tsfiles[0]].content,\n      deepAssign(\n        {},\n        <CompilerOptions>settings || {},\n        <CompilerOptions>compilerOptions\n      )\n    )}`;\n\n    return {\n      key,\n      title,\n      link: encodeURIComponent(link),\n    };\n  },\n});\n","import { deepAssign } from \"vuepress-shared\";\nimport type {\n  PlaygroundData,\n  PlaygroundOptions,\n  VuePresetPlaygroundOptions,\n} from \"../../../shared/index.js\";\n\nconst VUE_SUPPORTED_EXTENSIONS = [\n  \"html\",\n  \"js\",\n  \"ts\",\n  \"vue\",\n  \"jsx\",\n  \"tsx\",\n  \"json\",\n];\n\nexport const getVuePlaygroundPreset = (\n  options: VuePresetPlaygroundOptions = {}\n): PlaygroundOptions => ({\n  name: \"playground#vue\",\n  propsGetter: (playgroundData: PlaygroundData): Record<string, string> => {\n    const { title = \"\", files, settings: localSettings, key } = playgroundData;\n    const settings = {\n      // defaults\n      service: \"https://sfc.vuejs.org/\",\n      dev: false,\n      ssr: false,\n      ...options,\n      ...localSettings,\n    };\n\n    return {\n      key,\n      title,\n      link: encodeURIComponent(\n        `${settings.service}#${\n          // dev flag\n          settings.dev ? \"__DEV__\" : \"\"\n        }${\n          // ssr flag\n          settings.ssr ? \"__SSR__\" : \"\"\n        }${\n          // code base64\n          Buffer.from(\n            JSON.stringify(\n              Object.fromEntries(\n                Object.entries(files)\n                  .filter(([, { ext }]) =>\n                    VUE_SUPPORTED_EXTENSIONS.includes(ext)\n                  )\n                  .map(([key, { content }]) => {\n                    if (key === \"import-map.json\") {\n                      const importMap = <\n                        {\n                          imports: Record<string, string>;\n                          scopes?: Record<string, Record<string, string>>;\n                        }\n                      >JSON.parse(content);\n\n                      return [\n                        key,\n                        JSON.stringify(\n                          deepAssign(\n                            {},\n                            {\n                              // insure vue exisits and vue/server-render exisits when ssr is on\n                              imports: {\n                                vue: \"https://sfc.vuejs.org/vue.runtime.esm-browser.js\",\n                                ...(settings.ssr\n                                  ? {\n                                      // eslint-disable-next-line @typescript-eslint/naming-convention\n                                      \"vue/server-renderer\":\n                                        \"https://sfc.vuejs.org/server-renderer.esm-browser.js\",\n                                    }\n                                  : {}),\n                              },\n                            },\n                            importMap\n                          )\n                        ),\n                      ];\n                    }\n\n                    return [key, content];\n                  })\n              )\n            )\n          ).toString(\"base64\")\n        }`\n      ),\n    };\n  },\n});\n","import type { PluginWithOptions } from \"markdown-it\";\nimport type { RuleBlock } from \"markdown-it/lib/parser_block.js\";\nimport type { RenderRule } from \"markdown-it/lib/renderer.js\";\n\nexport interface MarkdownItUMLOptions {\n  /** name */\n  name: string;\n  /** open marker */\n  open: string;\n  /** close marker */\n  close: string;\n  /** render function */\n  render: RenderRule;\n}\n\nexport const uml: PluginWithOptions<MarkdownItUMLOptions> = (\n  md,\n  { name, open, close, render } = {\n    name: \"uml\",\n    open: \"start\",\n    close: \"end\",\n    render: (tokens, index): string => {\n      const token = tokens[index];\n      const { content, info, type } = token;\n\n      return `<div class=\"${type}\" title=\"${info}\">${content}</div>`;\n    },\n  }\n) => {\n  const OPEN_MARKER = `@${open}`;\n  const CLOSE_MARKER = `@${close}`;\n\n  const umlRule: RuleBlock = (state, startLine, endLine, silent) => {\n    let i;\n    let autoClosed = false;\n    let start = state.bMarks[startLine] + state.tShift[startLine];\n    let max = state.eMarks[startLine];\n\n    /*\n     * Check out the first character quickly,\n     * this should filter out most of non-uml blocks\n     */\n    if (state.src.charAt(start) !== \"@\") return false;\n\n    // Check out the rest of the marker string\n    for (i = 0; i < OPEN_MARKER.length; ++i)\n      if (OPEN_MARKER[i] !== state.src[start + i]) return false;\n\n    const markup = state.src.slice(start, start + i);\n    const params = state.src.slice(start + i, max);\n\n    // Since start is found, we can report success here in validation mode\n    if (silent) return true;\n\n    let nextLine = startLine;\n\n    // Search for the end of the block\n    while (\n      /*\n       * unclosed block should be autoclosed by end of document.\n       * also block seems to be autoclosed by end of parent\n       */\n      nextLine < endLine\n    ) {\n      start = state.bMarks[nextLine] + state.tShift[nextLine];\n      max = state.eMarks[nextLine];\n\n      if (start < max && state.sCount[nextLine] < state.blkIndent)\n        /*\n         * non-empty line with negative indent should stop the list:\n         * - ```\n         *  test\n         */\n        break;\n\n      if (\n        // didnt find the closing fence\n        state.src.charAt(start) === \"@\" &&\n        // closing fence should not be indented with respect of opening fence\n        state.sCount[nextLine] <= state.sCount[startLine]\n      ) {\n        let closeMarkerMatched = true;\n\n        for (i = 0; i < CLOSE_MARKER.length; ++i)\n          if (CLOSE_MARKER[i] !== state.src[start + i]) {\n            closeMarkerMatched = false;\n            break;\n          }\n\n        if (\n          closeMarkerMatched &&\n          // make sure tail has spaces only\n          state.skipSpaces(start + i) >= max\n        ) {\n          // found!\n          autoClosed = true;\n          break;\n        }\n      }\n\n      nextLine += 1;\n    }\n\n    const contents = state.src\n      .split(\"\\n\")\n      .slice(startLine + 1, nextLine)\n      .join(\"\\n\");\n\n    const token = state.push(name, \"fence\", 0);\n\n    token.block = true;\n    token.info = params;\n    token.content = contents;\n    token.map = [startLine, nextLine];\n    token.markup = markup;\n\n    state.line = nextLine + (autoClosed ? 1 : 0);\n\n    return true;\n  };\n\n  md.block.ruler.before(\"fence\", name, umlRule, {\n    alt: [\"paragraph\", \"reference\", \"blockquote\", \"list\"],\n  });\n\n  md.renderer.rules[name] = render;\n};\n","import { utoa } from \"vuepress-shared\";\nimport { uml } from \"./uml.js\";\n\nimport type { PluginSimple } from \"markdown-it\";\n\nexport const presentation: PluginSimple = (md) => {\n  md.use(uml, {\n    name: \"presentation\",\n    open: \"slidestart\",\n    close: \"slideend\",\n    render: (tokens, index): string => {\n      const token = tokens[index];\n      const key = `presentation-${index}`;\n      const { content, info } = token;\n\n      return `<Presentation id=\"${key}\" code=\"${utoa(content)}\" theme=\"${\n        info.trim() || \"auto\"\n      }\"></Presentation>`;\n    },\n  });\n};\n","/**\n * Forked from https://github.com/markdown-it/markdown-it-sub/blob/master/index.js\n *\n * Copyright (c) 2014-2015 Vitaly Puzrin, Alex Kocharin.\n *\n * Permission is hereby granted, free of charge, to any person\n * obtaining a copy of this software and associated documentation\n * files (the \"Software\"), to deal in the Software without\n * restriction, including without limitation the rights to use,\n * copy, modify, merge, publish, distribute, sublicense, and/or sell\n * copies of the Software, and to permit persons to whom the\n * Software is furnished to do so, subject to the following\n * conditions:\n *\n * The above copyright notice and this permission notice shall be\n * included in all copies or substantial portions of the Software.\n *\n * THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND,\n * EXPRESS OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES\n * OF MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND\n * NONINFRINGEMENT. IN NO EVENT SHALL THE AUTHORS OR COPYRIGHT\n * HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER LIABILITY,\n * WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING\n * FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR\n * OTHER DEALINGS IN THE SOFTWARE.\n */\n\nimport { UNESCAPE_RE } from \"./utils.js\";\n\nimport type { PluginSimple } from \"markdown-it\";\nimport type { RuleInline } from \"markdown-it/lib/parser_inline.js\";\n\nconst subscriptRender: RuleInline = (state, silent) => {\n  let found;\n  let token;\n  const max = state.posMax;\n  const start = state.pos;\n\n  if (state.src.charAt(start) !== \"~\") return false;\n\n  if (silent) return false; // dont run any pairs in validation mode\n  if (start + 2 >= max) return false;\n\n  state.pos = start + 1;\n\n  while (state.pos < max) {\n    if (state.src.charAt(state.pos) === \"~\") {\n      found = true;\n      break;\n    }\n\n    state.md.inline.skipToken(state);\n  }\n\n  if (!found || start + 1 === state.pos) {\n    state.pos = start;\n\n    return false;\n  }\n\n  const content = state.src.slice(start + 1, state.pos);\n\n  // dont allow unescaped spaces/newlines inside\n  if (/(^|[^\\\\])(\\\\\\\\)*\\s/u.exec(content)) {\n    state.pos = start;\n\n    return false;\n  }\n\n  // found!\n  state.posMax = state.pos;\n  state.pos = start + 1;\n\n  // Earlier we checked !silent, but this implementation does not need it\n  token = state.push(\"sub_open\", \"sub\", 1);\n  token.markup = \"~\";\n\n  token = state.push(\"text\", \"\", 0);\n  token.content = content.replace(UNESCAPE_RE, \"$1\");\n\n  token = state.push(\"sub_close\", \"sub\", -1);\n  token.markup = \"~\";\n\n  state.pos = state.posMax + 1;\n  state.posMax = max;\n\n  return true;\n};\n\nexport const sub: PluginSimple = (md) => {\n  md.inline.ruler.after(\"emphasis\", \"sub\", subscriptRender);\n};\n","/**\n * Forked from https://github.com/markdown-it/markdown-it-sup/blob/master/index.js\n *\n * Copyright (c) 2014-2015 Vitaly Puzrin, Alex Kocharin.\n *\n * Permission is hereby granted, free of charge, to any person\n * obtaining a copy of this software and associated documentation\n * files (the \"Software\"), to deal in the Software without\n * restriction, including without limitation the rights to use,\n * copy, modify, merge, publish, distribute, sublicense, and/or sell\n * copies of the Software, and to permit persons to whom the\n * Software is furnished to do so, subject to the following\n * conditions:\n *\n * The above copyright notice and this permission notice shall be\n * included in all copies or substantial portions of the Software.\n *\n * THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND,\n * EXPRESS OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES\n * OF MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND\n * NONINFRINGEMENT. IN NO EVENT SHALL THE AUTHORS OR COPYRIGHT\n * HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER LIABILITY,\n * WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING\n * FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR\n * OTHER DEALINGS IN THE SOFTWARE.\n */\n\nimport { UNESCAPE_RE } from \"./utils.js\";\n\nimport type { PluginSimple } from \"markdown-it\";\nimport type { RuleInline } from \"markdown-it/lib/parser_inline.js\";\n\nconst superscriptRender: RuleInline = (state, silent) => {\n  let found;\n  let token;\n  const max = state.posMax;\n  const start = state.pos;\n\n  if (state.src.charAt(start) !== \"^\") return false;\n\n  if (silent) return false; // dont run any pairs in validation mode\n  if (start + 2 >= max) return false;\n\n  state.pos = start + 1;\n\n  while (state.pos < max) {\n    if (state.src.charAt(state.pos) === \"^\") {\n      found = true;\n      break;\n    }\n\n    state.md.inline.skipToken(state);\n  }\n\n  if (!found || start + 1 === state.pos) {\n    state.pos = start;\n\n    return false;\n  }\n\n  const content = state.src.slice(start + 1, state.pos);\n\n  // dont allow unescaped spaces/newlines inside\n  if (/(^|[^\\\\])(\\\\\\\\)*\\s/u.exec(content)) {\n    state.pos = start;\n\n    return false;\n  }\n\n  // found!\n  state.posMax = state.pos;\n  state.pos = start + 1;\n\n  // Earlier we checked !silent, but this implementation does not need it\n  token = state.push(\"sup_open\", \"sup\", 1);\n  token.markup = \"^\";\n\n  token = state.push(\"text\", \"\", 0);\n  token.content = content.replace(UNESCAPE_RE, \"$1\");\n\n  token = state.push(\"sup_close\", \"sup\", -1);\n  token.markup = \"^\";\n\n  state.pos = state.posMax + 1;\n  state.posMax = max;\n\n  return true;\n};\n\nexport const sup: PluginSimple = (md) => {\n  md.inline.ruler.after(\"emphasis\", \"sup\", superscriptRender);\n};\n","/**\n * Forked from https://github.com/linsir/markdown-it-task-checkbox/blob/master/index.js\n *\n * Copyright (c) 2016, Revin Guillen\n * Modified code Copyright (c) 2016, linsir, MIT License\n *\n * Permission to use, copy, modify, and/or distribute this software for any\n * purpose with or without fee is hereby granted, provided that the above\n * copyright notice and this permission notice appear in all copies.\n *\n * THE SOFTWARE IS PROVIDED \"AS IS\" AND THE AUTHOR DISCLAIMS ALL WARRANTIES\n * WITH REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF\n * MERCHANTABILITY AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR\n * ANY SPECIAL, DIRECT, INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES\n * WHATSOEVER RESULTING FROM LOSS OF USE, DATA OR PROFITS, WHETHER IN AN\n * ACTION OF CONTRACT, NEGLIGENCE OR OTHER TORTIOUS ACTION, ARISING OUT OF\n * OR IN CONNECTION WITH THE USE OR PERFORMANCE OF THIS SOFTWARE.\n */\n\nimport { default as Token } from \"markdown-it/lib/token.js\";\nimport {\n  getParentTokenIndex,\n  isInlineToken,\n  isParagraphToken,\n  isListItemToken,\n  setTokenAttr,\n} from \"./utils.js\";\n\nimport type { PluginWithOptions } from \"markdown-it\";\nimport type { default as StateCore } from \"markdown-it/lib/rules_core/state_core.js\";\nimport type { TaskListOptions } from \"../../shared/index.js\";\n\ninterface TaskListEnv {\n  tasklists: number;\n}\n\ninterface TaskListStateCore extends StateCore {\n  env: TaskListEnv;\n}\n// The leading whitespace in a list item (token.content) is already trimmed off by markdown-it.\n// The regex below checks for '[ ] ' or '[x] ' or '[X] ' at the start of the string token.content,\n// where the space is either a normal space or a non-breaking space (character 160 = \\u00A0).\nconst startsWithTodoMarkdown = (token: Token): boolean =>\n  /^\\[[xX \\u00A0]\\][ \\u00A0]/.test(token.content);\n\nconst isTaskListItem = (tokens: Token[], index: number): boolean =>\n  isInlineToken(tokens[index]) &&\n  isParagraphToken(tokens[index - 1]) &&\n  isListItemToken(tokens[index - 2]) &&\n  startsWithTodoMarkdown(tokens[index]);\n\nconst generateCheckbox = (token: Token, id: string, disabled = true): Token => {\n  const checkbox = new Token(\"checkbox_input\", \"input\", 0);\n\n  checkbox.attrs = [\n    [\"type\", \"checkbox\"],\n    [\"class\", \"task-list-item-checkbox\"],\n    [\"id\", id],\n  ];\n\n  // if token.content starts with '[x] ' or '[X] '\n  if (/^\\[[xX]\\][ \\u00A0]/.test(token.content))\n    checkbox.attrs.push([\"checked\", \"checked\"]);\n\n  if (disabled) checkbox.attrs.push([\"disabled\", \"disabled\"]);\n\n  return checkbox;\n};\n\nconst beginLabel = (id: string): Token => {\n  const label = new Token(\"label_open\", \"label\", 1);\n\n  label.attrs = [\n    [\"class\", \"task-list-item-label\"],\n    [\"for\", id],\n  ];\n\n  return label;\n};\n\nconst endLabel = (): Token => new Token(\"label_close\", \"label\", -1);\n\nconst todoify = (\n  token: Token,\n  state: TaskListStateCore,\n  options: Required<TaskListOptions>\n): void => {\n  const id = `task-item-${state.env.tasklists++}`;\n\n  token.children = token.children || [];\n\n  // remove the checkbox syntax letter\n  token.children[0].content = token.children[0].content.slice(3);\n\n  if (options.label) {\n    // add label\n    token.children.unshift(beginLabel(id));\n    token.children.push(endLabel());\n  }\n  // checkbox\n  token.children.unshift(generateCheckbox(token, id, options.disabled));\n};\n\nexport const tasklist: PluginWithOptions<TaskListOptions> = (\n  md,\n  { disabled = true, label = true } = {}\n) => {\n  md.core.ruler.after(\n    \"inline\",\n    \"github-task-lists\",\n    (state: TaskListStateCore) => {\n      const tokens = state.tokens;\n\n      if (!state.env.tasklists) state.env.tasklists = 0;\n\n      for (let i = 2; i < tokens.length; i++) {\n        if (isTaskListItem(tokens, i)) {\n          todoify(tokens[i], state, { disabled, label });\n          setTokenAttr(tokens[i - 2], \"class\", \"task-list-item\");\n          setTokenAttr(\n            tokens[getParentTokenIndex(tokens, i - 2)],\n            \"class\",\n            \"task-list-container\"\n          );\n        }\n      }\n\n      return true;\n    }\n  );\n};\n","import { container } from \"./container.js\";\n\nimport type { PluginSimple } from \"markdown-it\";\n\nexport const vPre: PluginSimple = (md) => {\n  container(md, {\n    name: \"v-pre\",\n    openRender: () => `<div v-pre>\\n`,\n    closeRender: () => \"</div>\\n\",\n  });\n};\n","import type { MarkdownEnv } from \"@vuepress/markdown\";\nimport type { PageFrontmatter } from \"@vuepress/shared\";\nimport type { PluginWithOptions } from \"markdown-it\";\nimport type { default as Token } from \"markdown-it/lib/token.js\";\nimport type { StylizeOptions } from \"../../shared/index.js\";\n\nexport interface StylizeFrontmatter {\n  /**\n   * Content to be skipped in this page\n   */\n  noStylize?: string[];\n}\n\nexport interface StylizeMarkdownEnv extends MarkdownEnv {\n  frontmatter: PageFrontmatter<StylizeFrontmatter>;\n}\n\nconst scanTokens = (\n  tokens: Token[],\n  options: StylizeOptions,\n  skipContents: string[] = []\n): void => {\n  for (let index = 1, len = tokens.length; index < len - 1; index++) {\n    const token = tokens[index];\n    const { content, type } = token;\n\n    // skip currect token\n    if (type !== \"text\" || skipContents.includes(content)) continue;\n\n    const config = options.find(({ matcher }) =>\n      typeof matcher === \"string\" ? matcher === content : matcher.test(content)\n    );\n    const tokenPrev = tokens[index - 1];\n    const tokenNext = tokens[index + 1];\n\n    if (\n      config &&\n      tokenPrev.tag === tokenNext.tag &&\n      tokenPrev.nesting === 1 &&\n      tokenNext.nesting === -1\n    ) {\n      const result = config.replacer({\n        tag: tokenPrev.tag,\n        content: token.content,\n        attrs: Object.fromEntries(tokenPrev.attrs || []),\n      });\n\n      if (result) {\n        tokenPrev.tag = tokenNext.tag = result.tag;\n        tokenPrev.attrs = Object.entries(result.attrs);\n        token.content = result.content;\n      }\n\n      // skip 2 tokens\n      index += 2;\n    }\n  }\n};\n\nexport const stylize: PluginWithOptions<StylizeOptions> = (\n  md,\n  options = []\n) => {\n  if (Object.keys(options).length == 0) return;\n\n  md.core.ruler.push(\"stylize_tag\", ({ env, tokens }) => {\n    const { noStylize } = (<StylizeMarkdownEnv>env).frontmatter || {};\n\n    tokens.forEach(({ type, children }) => {\n      if (type === \"inline\") scanTokens(children || [], options, noStylize);\n    });\n  });\n};\n","import { playground } from \"./playground/index.js\";\n\nimport type { PluginSimple } from \"markdown-it\";\nimport type {\n  PlaygroundData,\n  VuePlaygroundOptions,\n} from \"../../shared/index.js\";\n\nexport const DEFAULT_VUE_PLAYGROUND_OPTIONS: VuePlaygroundOptions = {\n  autoResize: true,\n  showCode: false,\n  showCompileOutput: false,\n  showImportMap: true,\n  clearConsole: false,\n  layout: \"vertical\",\n  ssr: false,\n};\nconst VUE_SUPPORTED_EXTENSIONS = [\n  \"html\",\n  \"js\",\n  \"ts\",\n  \"vue\",\n  \"jsx\",\n  \"tsx\",\n  \"json\",\n];\n\nconst encodeFiles = (files: PlaygroundData[\"files\"]): string =>\n  Buffer.from(\n    JSON.stringify(\n      Object.fromEntries(\n        Object.entries(files)\n          .filter(([, { ext }]) => VUE_SUPPORTED_EXTENSIONS.includes(ext))\n          .map(([key, config]) => [key, config.content])\n      )\n    )\n  ).toString(\"base64\");\n\nexport const vuePlayground: PluginSimple = (md) => {\n  md.use(playground, {\n    name: \"vue-playground\",\n    component: \"VuePlayground\",\n    propsGetter: ({ title = \"\", key, files, settings }: PlaygroundData) => ({\n      title,\n      key,\n      settings: encodeURIComponent(JSON.stringify(settings || {})),\n      files: encodeURIComponent(encodeFiles(files)),\n    }),\n  });\n};\n","import { utoa } from \"vuepress-shared\";\nimport { container } from \"../markdown-it/index.js\";\n\nimport type { PluginSimple } from \"markdown-it\";\nimport type { default as Token } from \"markdown-it/lib/token.js\";\n\n/** @deprecated */\nexport const legacyCodeDemo: PluginSimple = (md) => {\n  md.use(container, {\n    name: \"demo\",\n    openRender: (tokens: Token[], index: number): string => {\n      const { info } = tokens[index];\n      const type = /\\[(.*)\\]/u.exec(info);\n      const title = /^ demo\\s*(?:\\[.*?\\])?\\s*(.*)\\s*$/u.exec(info);\n\n      let config = \"\";\n      const code: Record<string, string> = {};\n\n      for (let i = index; i < tokens.length; i++) {\n        const { type, content, info } = tokens[i];\n\n        if (type === `container_demo_close`) break;\n        if (!content) continue;\n        if (type === \"fence\") {\n          if (info === \"json\") config = utoa(content);\n          else code[info] = content;\n        }\n      }\n\n      return `\n<CodeDemo id=\"code-demo-${index}\" type=\"${type?.[1] || \"normal\"}\"${\n        title ? ` title=\"${encodeURIComponent(title[1])}\"` : \"\"\n      }${config ? ` config=\"${config}\"` : \"\"} code=\"${utoa(\n        JSON.stringify(code)\n      )}\">\n`;\n    },\n    closeRender: () => `</CodeDemo>`,\n  });\n};\n","import { container } from \"../markdown-it/index.js\";\nimport { logger } from \"../utils.js\";\n\nimport type { MarkdownEnv } from \"@vuepress/markdown\";\nimport type { PluginSimple } from \"markdown-it\";\n\n/** @deprecated */\nexport const legacyCodeGroup: PluginSimple = (md) => {\n  md.use(container, {\n    name: \"code-group\",\n    openRender: (_tokens, _index, _options, env: MarkdownEnv) => {\n      logger.warn(\n        `Deprecated code-group syntax found${\n          env.filePathRelative ? `in ${env.filePathRelative}` : \"\"\n        }`\n      );\n\n      return `<CodeGroup>\\n`;\n    },\n    closeRender: () => \"</CodeGroup>\\n\",\n  });\n\n  md.use(container, {\n    name: \"code-group-item\",\n    openRender: (tokens, index) => {\n      const { info } = tokens[index];\n      const isActive = info.split(\":\").pop() === \"active\";\n\n      return `<CodeGroupItem title=\"${\n        isActive ? info.replace(/:active$/, \"\") : info\n      }\"${isActive ? \" active\" : \"\"}>\\n`;\n    },\n    closeRender: () => \"</CodeGroupItem>\\n\",\n  });\n};\n","import { utoa } from \"vuepress-shared\";\nimport { uml } from \"../markdown-it/index.js\";\n\nimport type { PluginSimple } from \"markdown-it\";\n\n/** @deprecated */\nexport const legacyFlowchart: PluginSimple = (md) => {\n  uml(md, {\n    name: \"flowchart\",\n    open: \"flowstart\",\n    close: \"flowend\",\n    render: (tokens, index): string => {\n      console.warn(\n        '\"@flowstart ... @flowend\" is deprecated, you should use ```flow ... ``` instead.'\n      );\n\n      const token = tokens[index];\n      const key = `flowchart-${index}`;\n      const { content, info } = token;\n\n      return `<FlowChart id=\"${key}\" code=\"${utoa(content)}\" preset=\"${\n        info.trim() || \"vue\"\n      }\"></FlowChart>`;\n    },\n  });\n};\n","import type { MarkdownEnhanceLocaleConfig } from \"../shared/index.js\";\n\nexport const markdownEnhanceLocales: MarkdownEnhanceLocaleConfig = {\n  \"/en/\": {\n    info: \"Info\",\n    note: \"Note\",\n    tip: \"Tips\",\n    warning: \"Note\",\n    danger: \"Warning\",\n    details: \"Details\",\n  },\n\n  \"/zh/\": {\n    info: \"\",\n    note: \"\",\n    tip: \"\",\n    warning: \"\",\n    danger: \"\",\n    details: \"\",\n  },\n\n  \"/zh-tw/\": {\n    info: \"\",\n    note: \"\",\n    tip: \"\",\n    warning: \"\",\n    danger: \"\",\n    details: \"\",\n  },\n\n  \"/de-at/\": {\n    info: \"Information\",\n    note: \"Note\",\n    tip: \"Tips\",\n    warning: \"Notiz\",\n    danger: \"Warnung\",\n    details: \"Details\",\n  },\n\n  \"/vi/\": {\n    info: \"Thng tin\",\n    note: \"Note\",\n    tip: \"Tips\",\n    warning: \"Lu \",\n    danger: \"Cn thn\",\n    details: \"Chi tit\",\n  },\n\n  \"/uk/\": {\n    info: \"\",\n    note: \"Note\",\n    tip: \"\",\n    warning: \"\",\n    danger: \"\",\n    details: \"\",\n  },\n\n  \"/ru/\": {\n    info: \"\",\n    note: \"\",\n    tip: \"\",\n    warning: \"\",\n    danger: \"\",\n    details: \"\",\n  },\n\n  \"/br/\": {\n    info: \"Informativo\",\n    note: \"Note\",\n    tip: \"Dicas\",\n    warning: \"Avisos\",\n    danger: \"Cuidado\",\n    details: \"Detalhe\",\n  },\n\n  \"/pl/\": {\n    info: \"Info\",\n    note: \"Notatka\",\n    tip: \"Porady\",\n    warning: \"Notatka\",\n    danger: \"Ostrzeenie\",\n    details: \"Dane\",\n  },\n\n  \"/sk/\": {\n    info: \"Info\",\n    note: \"Poznmka\",\n    tip: \"Tip\",\n    warning: \"Upozornenie\",\n    danger: \"Pozor\",\n    details: \"Podrobnosti\",\n  },\n\n  \"/fr/\": {\n    info: \"Info\",\n    note: \"Note\",\n    tip: \"Conseil\",\n    warning: \"Note\",\n    danger: \"Avertissement\",\n    details: \"Details\",\n  },\n\n  \"/es/\": {\n    info: \"Informacin\",\n    note: \"Nota\",\n    tip: \"Consejos\",\n    warning: \"Aviso\",\n    danger: \"Advertencia\",\n    details: \"Detalles\",\n  },\n\n  \"/ja/\": {\n    info: \"\",\n    note: \"\",\n    tip: \"\",\n    warning: \"\",\n    danger: \"\",\n    details: \"\",\n  },\n};\n","import { ensureEndingSlash } from \"@vuepress/shared\";\nimport { getDirname, path } from \"@vuepress/utils\";\n\nimport type { App } from \"@vuepress/core\";\nimport type { MarkdownEnhanceOptions, RevealPlugin } from \"../shared/index.js\";\n\nconst __dirname = getDirname(import.meta.url);\nconst CLIENT_FOLDER = ensureEndingSlash(path.resolve(__dirname, \"../client\"));\n\nexport const prepareConfigFile = async (\n  app: App,\n  options: MarkdownEnhanceOptions,\n  legacy = false\n): Promise<string> => {\n  let configImport = \"\";\n  let enhance = \"\";\n\n  const getStatus = (key: keyof MarkdownEnhanceOptions, gfm = false): boolean =>\n    key in options\n      ? Boolean(options[key])\n      : (gfm && \"gfm\" in options && options.gfm) || false;\n\n  if (getStatus(\"chart\")) {\n    configImport += `import ChartJS from \"${CLIENT_FOLDER}components/ChartJS.js\";\\n`;\n    enhance += `app.component(\"ChartJS\", ChartJS);\\n`;\n  }\n\n  if (getStatus(\"codetabs\")) {\n    configImport += `import CodeTabs from \"${CLIENT_FOLDER}components/CodeTabs.js\";\\n`;\n    enhance += `app.component(\"CodeTabs\", CodeTabs);\\n`;\n\n    // TODO: Remove it in v2 stable\n    if (legacy) {\n      configImport += `import { CodeGroup, CodeGroupItem } from \"${CLIENT_FOLDER}compact/index.js\";\\n`;\n      enhance += `app.component(\"CodeGroup\", CodeGroup);\\n`;\n      enhance += `app.component(\"CodeGroupItem\", CodeGroupItem);\\n`;\n    }\n  }\n\n  if (getStatus(\"container\"))\n    configImport += `import \"${CLIENT_FOLDER}styles/container/index.scss\";\\n`;\n\n  if (getStatus(\"demo\")) {\n    configImport += `import CodeDemo from \"${CLIENT_FOLDER}components/CodeDemo.js\";\\n`;\n    enhance += `app.component(\"CodeDemo\", CodeDemo);\\n`;\n  }\n\n  if (getStatus(\"echarts\")) {\n    configImport += `import ECharts from \"${CLIENT_FOLDER}components/ECharts.js\";\\n`;\n    enhance += `app.component(\"ECharts\", ECharts);\\n`;\n  }\n\n  if (getStatus(\"flowchart\")) {\n    configImport += `import FlowChart from \"${CLIENT_FOLDER}components/FlowChart.js\";\\n`;\n    enhance += `app.component(\"FlowChart\", FlowChart);\\n`;\n  }\n\n  if (getStatus(\"footnote\", true))\n    configImport += `import \"${CLIENT_FOLDER}styles/footnote.scss\";\\n`;\n\n  if (getStatus(\"imageMark\", true))\n    configImport += `import \"${CLIENT_FOLDER}styles/image-mark.scss\";\\n`;\n\n  if (getStatus(\"mermaid\")) {\n    configImport += `import Mermaid from \"${CLIENT_FOLDER}components/Mermaid.js\";\\n`;\n    enhance += `app.component(\"Mermaid\", Mermaid);\\n`;\n  }\n\n  if (getStatus(\"presentation\")) {\n    configImport += `import Presentation from \"${CLIENT_FOLDER}components/Presentation.js\";\\n`;\n    enhance += `app.component(\"Presentation\", Presentation);\\n`;\n  }\n\n  if (getStatus(\"playground\")) {\n    configImport += `import Playground from \"${CLIENT_FOLDER}components/Playground.js\";\\n`;\n    enhance += `app.component(\"Playground\", Playground);\\n`;\n  }\n\n  if (getStatus(\"tabs\")) {\n    configImport += `import Tabs from \"${CLIENT_FOLDER}components/Tabs.js\";\\n`;\n    enhance += `app.component(\"Tabs\", Tabs);\\n`;\n  }\n\n  if (getStatus(\"tasklist\", true))\n    configImport += `import \"${CLIENT_FOLDER}styles/tasklist.scss\";\\n`;\n\n  if (getStatus(\"katex\"))\n    configImport += `import \"${CLIENT_FOLDER}styles/katex.scss\";\\n`;\n\n  if (getStatus(\"vuePlayground\"))\n    enhance += `const VuePlayground = defineAsyncComponent(() => import(\"${CLIENT_FOLDER}components/VuePlayground.js\"));\\napp.component(\"VuePlayground\", VuePlayground);\\n`;\n\n  return app.writeTemp(\n    `md-enhance/config.js`,\n    `import { defineClientConfig } from \"@vuepress/client\";\n    import { defineAsyncComponent } from \"vue\";\n${configImport}\n\nexport default defineClientConfig({\n  enhance: ({ app }) => {\n${enhance\n  .split(\"\\n\")\n  .map((item) => `    ${item}`)\n  .join(\"\\n\")}\n  }\n});`\n  );\n};\n\nexport const prepareRevealPluginFile = async (\n  app: App,\n  revealPlugins: RevealPlugin[]\n): Promise<void> => {\n  const packages = [\n    \"reveal\",\n    \"revealMarkdown\",\n    ...revealPlugins.map(\n      (key) => `reveal${key[0].toUpperCase()}${key.substring(1)}`\n    ),\n  ];\n\n  await app.writeTemp(\n    \"md-enhance/reveal.js\",\n    `import { ${packages.join(\", \")} } from \"${CLIENT_FOLDER}reveal/index.js\";\n\nexport const useReveal = () => [${packages\n      .map((name) => `${name}()`)\n      .join(\", \")}\n];`\n  );\n};\n","import { getDirname, path } from \"@vuepress/utils\";\nimport { useSassPalettePlugin } from \"vuepress-plugin-sass-palette\";\nimport {\n  addCustomElement,\n  addViteOptimizeDepsExclude,\n  addViteOptimizeDepsInclude,\n  addViteSsrExternal,\n  addViteSsrNoExternal,\n  chainWebpack,\n  deepAssign,\n  getLocales,\n} from \"vuepress-shared\";\n\nimport { logger } from \"./utils.js\";\n\nimport { checkLinks, getCheckLinksStatus } from \"./checkLink.js\";\nimport {\n  convertOptions,\n  legacyCodeDemo,\n  legacyCodeGroup,\n  legacyFlowchart,\n} from \"./compact/index.js\";\nimport { markdownEnhanceLocales } from \"./locales.js\";\nimport {\n  CODE_DEMO_DEFAULT_SETTING,\n  DEFAULT_VUE_PLAYGROUND_OPTIONS,\n  align,\n  attrs,\n  chart,\n  codeTabs,\n  echarts,\n  flowchart,\n  footnote,\n  hint,\n  imageMark,\n  imageSize,\n  include,\n  katex,\n  mathjax,\n  lazyLoad,\n  mark,\n  mermaid,\n  normalDemo,\n  playground,\n  presentation,\n  reactDemo,\n  stylize,\n  sub,\n  sup,\n  tabs,\n  tasklist,\n  vPre,\n  vueDemo,\n  vuePlayground,\n  getVuePlaygroundPreset,\n  getTSPlaygroundPreset,\n} from \"./markdown-it/index.js\";\nimport { prepareConfigFile, prepareRevealPluginFile } from \"./prepare.js\";\nimport { MATHML_TAGS } from \"./utils.js\";\n\nimport type { PluginFunction } from \"@vuepress/core\";\nimport type { KatexOptions } from \"katex\";\nimport type { MarkdownEnhanceOptions } from \"../shared/index.js\";\n\nconst __dirname = getDirname(import.meta.url);\n\nexport const mdEnhancePlugin =\n  (\n    options: MarkdownEnhanceOptions = { gfm: true },\n    legacy = false\n  ): PluginFunction =>\n  (app) => {\n    // TODO: Remove it in v2 stable\n    if (legacy)\n      convertOptions(\n        options as MarkdownEnhanceOptions & Record<string, unknown>\n      );\n    if (app.env.isDebug) logger.info(`Options: ${options.toString()}`);\n\n    const getStatus = (\n      key: keyof MarkdownEnhanceOptions,\n      gfm = false\n    ): boolean =>\n      key in options\n        ? Boolean(options[key])\n        : (gfm && \"gfm\" in options && options.gfm) || false;\n\n    const locales = getLocales({\n      app,\n      name: \"md-enhance\",\n      default: markdownEnhanceLocales,\n      config: options.locales,\n    });\n\n    const chartEnable = getStatus(\"chart\");\n    const echartsEnable = getStatus(\"echarts\");\n    const flowchartEnable = getStatus(\"flowchart\");\n    const footnoteEnable = getStatus(\"footnote\", true);\n    const imageMarkEnable = getStatus(\"imageMark\", true);\n    const tasklistEnable = getStatus(\"tasklist\", true);\n    const mermaidEnable = getStatus(\"mermaid\");\n    const presentationEnable = getStatus(\"presentation\");\n    const katexEnable = getStatus(\"katex\");\n    const mathjaxEnable = getStatus(\"mathjax\");\n    const vuePlaygroundEnable = getStatus(\"vuePlayground\");\n\n    const shouldCheckLinks = getCheckLinksStatus(app, options);\n\n    const katexOptions: KatexOptions = {\n      macros: {\n        // support more symbols\n        // eslint-disable-next-line @typescript-eslint/naming-convention\n        \"\\\\liiiint\": \"\\\\int\\\\!\\\\!\\\\!\\\\iiint\",\n        // eslint-disable-next-line @typescript-eslint/naming-convention\n        \"\\\\iiiint\": \"\\\\int\\\\!\\\\!\\\\!\\\\!\\\\iiint\",\n        // eslint-disable-next-line @typescript-eslint/naming-convention\n        \"\\\\idotsint\": \"\\\\int\\\\!\\\\cdots\\\\!\\\\int\",\n      },\n      ...(typeof options.katex === \"object\" ? options.katex : {}),\n    };\n\n    const revealPlugins =\n      typeof options.presentation === \"object\" &&\n      Array.isArray(options.presentation.plugins)\n        ? options.presentation.plugins\n        : [];\n\n    useSassPalettePlugin(app, { id: \"hope\" });\n\n    let initialized = false;\n\n    return {\n      name: \"vuepress-plugin-md-enhance\",\n\n      define: (): Record<string, unknown> => ({\n        MARKDOWN_ENHANCE_DELAY: options.delay || 500,\n        CODE_DEMO_OPTIONS: {\n          ...CODE_DEMO_DEFAULT_SETTING,\n          ...(typeof options.demo === \"object\" ? options.demo : {}),\n        },\n        MERMAID_OPTIONS:\n          typeof options.mermaid === \"object\" ? options.mermaid : {},\n        REVEAL_CONFIG:\n          typeof options.presentation === \"object\" &&\n          typeof options.presentation.revealConfig === \"object\"\n            ? options.presentation.revealConfig\n            : {},\n        VUE_PLAYGROUND_OPTIONS:\n          typeof options.vuePlayground === \"object\"\n            ? deepAssign(\n                {},\n                DEFAULT_VUE_PLAYGROUND_OPTIONS,\n                options.vuePlayground\n              )\n            : DEFAULT_VUE_PLAYGROUND_OPTIONS,\n      }),\n\n      alias: {\n        // FIXME:\n        // this is a workaround for https://github.com/vitejs/vite/issues/7621\n        // Remove this when issue is fixed\n        // eslint-disable-next-line @typescript-eslint/naming-convention\n        \"vuepress-plugin-md-enhance/SlidePage\": path.resolve(\n          __dirname,\n          \"../client/SlidePage.js\"\n        ),\n      },\n\n      extendsBundlerOptions: (config: unknown, app): void => {\n        addViteSsrNoExternal({ app, config }, \"vuepress-shared\");\n\n        if (katexEnable && katexOptions.output !== \"html\")\n          addCustomElement({ app, config }, MATHML_TAGS);\n        else if (mathjaxEnable) addCustomElement({ app, config }, /^mjx-/);\n\n        if (chartEnable) {\n          addViteOptimizeDepsInclude({ app, config }, \"chart.js/auto/auto.mjs\");\n          addViteSsrExternal({ app, config }, \"chart.js\");\n        }\n\n        if (echartsEnable) {\n          addViteOptimizeDepsInclude({ app, config }, \"echarts\");\n          addViteSsrExternal({ app, config }, \"echarts\");\n        }\n\n        if (flowchartEnable) {\n          addViteOptimizeDepsInclude(\n            { app, config },\n            \"flowchart.js/src/flowchart.parse.js\"\n          );\n          addViteSsrExternal({ app, config }, \"flowchart.js\");\n        }\n\n        if (mermaidEnable) {\n          addViteOptimizeDepsInclude({ app, config }, \"mermaid\");\n          addViteSsrExternal({ app, config }, \"mermaid\");\n        }\n\n        if (presentationEnable) {\n          addViteOptimizeDepsExclude({ app, config }, [\n            \"reveal.js/dist/reveal.esm.js\",\n            \"reveal.js/plugin/markdown/markdown.esm.js\",\n            ...revealPlugins.map(\n              (plugin) => `reveal.js/plugin/${plugin}/${plugin}.esm.js`\n            ),\n          ]);\n\n          addViteSsrExternal({ app, config }, \"reveal.js\");\n        }\n\n        if (vuePlaygroundEnable) {\n          addViteOptimizeDepsInclude({ app, config }, \"@vue/repl\");\n          addViteSsrExternal({ app, config }, \"@vue/repl\");\n\n          // hide webpack warnings\n          chainWebpack({ app, config }, (config) => {\n            config.module.set(\"exprContextCritical\", false);\n            config.module.set(\"unknownContextCritical\", false);\n          });\n        }\n      },\n\n      extendsMarkdown: (md): void => {\n        // syntax\n        if (getStatus(\"gfm\")) md.options.linkify = true;\n        if (getStatus(\"attrs\"))\n          md.use(attrs, typeof options.attrs === \"object\" ? options.attrs : {});\n        if (getStatus(\"align\")) md.use(align);\n        if (getStatus(\"container\")) md.use(hint, locales);\n        if (getStatus(\"lazyLoad\")) md.use(lazyLoad);\n        if (imageMarkEnable)\n          md.use(\n            imageMark,\n            typeof options.imageMark === \"object\" ? options.imageMark : {}\n          );\n        if (getStatus(\"imageSize\")) md.use(imageSize);\n        if (getStatus(\"sup\")) md.use(sup);\n        if (getStatus(\"sub\")) md.use(sub);\n        if (footnoteEnable) md.use(footnote);\n        if (getStatus(\"mark\")) md.use(mark);\n        if (tasklistEnable)\n          md.use(tasklist, [\n            typeof options.tasklist === \"object\" ? options.tasklist : {},\n          ]);\n\n        // addtional functions\n        if (\n          getStatus(\"vpre\") ||\n          // TODO: Remove it in v2 stable\n          legacy\n        )\n          md.use(vPre);\n        if (katexEnable) md.use(katex, katexOptions);\n        else if (mathjaxEnable)\n          md.use(\n            mathjax,\n            typeof options.mathjax === \"object\" ? options.mathjax : {}\n          );\n\n        if (getStatus(\"include\"))\n          md.use(\n            include,\n            typeof options.include === \"object\" ? options.include : {}\n          );\n        if (getStatus(\"stylize\")) md.use(stylize, options.stylize);\n\n        // features\n        if (getStatus(\"codetabs\")) {\n          md.use(codeTabs);\n          // TODO: Remove it in v2 stable\n          if (legacy) md.use(legacyCodeGroup);\n        }\n        if (getStatus(\"tabs\")) md.use(tabs);\n        if (flowchartEnable) {\n          md.use(flowchart);\n          // TODO: Remove it in v2 stable\n          if (legacy) md.use(legacyFlowchart);\n        }\n        if (chartEnable) md.use(chart);\n        if (echartsEnable) md.use(echarts);\n        if (getStatus(\"demo\")) {\n          md.use(normalDemo);\n          md.use(vueDemo);\n          md.use(reactDemo);\n          // TODO: Remove it in v2 stable\n          if (legacy) md.use(legacyCodeDemo);\n        }\n        if (mermaidEnable) md.use(mermaid);\n        if (presentationEnable) md.use(presentation);\n        if (typeof options.playground === \"object\") {\n          const { presets = [], config = {} } = options.playground;\n\n          presets.forEach((preset) => {\n            if (preset === \"ts\")\n              md.use(playground, getTSPlaygroundPreset(config.ts || {}));\n            else if (preset === \"vue\")\n              md.use(playground, getVuePlaygroundPreset(config.vue || {}));\n            else if (typeof preset === \"object\") md.use(playground, preset);\n          });\n        }\n        if (vuePlaygroundEnable) md.use(vuePlayground);\n      },\n\n      extendsPage: (page, app): void => {\n        if (shouldCheckLinks && initialized) checkLinks(page, app);\n      },\n\n      onInitialized: async (app): Promise<void> => {\n        initialized = true;\n        if (shouldCheckLinks)\n          app.pages.forEach((page) => checkLinks(page, app));\n\n        await prepareRevealPluginFile(app, revealPlugins);\n      },\n\n      clientConfigFile: (app) => prepareConfigFile(app, options, legacy),\n    };\n  };\n"],"names":["MATHML_TAGS","logger","Logger","getCheckLinksStatus","app","options","linkCheck","checkLinks","page","path","pages","markdownLinks","raw","brokenLinks","relative","filePathRelative","absolute","deprecatedLogger","deprecatedOption","newOption","msg","scope","keys","temp","key","index","droppedLogger","droppedOption","hint","convertOptions","container","md","name","marker","validate","params","openRender","tokens","_env","slf","closeRender","markerStart","markerLength","state","startLine","endLine","silent","start","max","pos","markerCount","markup","nextLine","autoClosed","oldParent","oldLineMax","openToken","closeToken","align","ALLOWED_KEY_CHARS","PAIR_SPERATOR","KEY_SPERATOR","CLASS_MARKER","ID_MARKER","getAttrs","str","left","right","allowed","value","parsingKey","valueInsideQuotes","attrs","char","attr","item","addAttrs","token","attrItem","hasDelimiters","where","leftLength","rightLength","minCurlyLength","validCurlyLength","curly","isClass","isId","end","slice","nextChar","rightDelimiterMinimumShift","removeDelimiter","escapeRegExp","getMatchingOpeningToken","i","level","type","getElement","arr","n","isArrayOfObjects","isArrayOfFunctions","regexp","patternsConfig","lineNumber","results","childIndex","endChar","attrToken","tableOpen","content","openingToken","indx","ii","children","trimmed","test","rule","_a","_b","res","match","childTests","tt","j","ruleDetail","patterns","curlyAttrs","patternIndex","pattern","t","chart","title","config","configType","info","utoa","CODE_DEMO_DEFAULT_SETTING","getPlugin","code","normalDemo","vueDemo","reactDemo","tabs","component","getter","CODETAB_MARKER","tabsRule","containerName","id","tabRule","openMakerMatched","env","self","meta","basicData","customData","activeIndex","isTabstart","block","data","codeTabs","inCodeTab","foundFence","codeTabsData","echartsRender","echarts","fence","args","isJavaScript","flowchartRender","flowchart","realInfo","getIDSuffix","renderFootnoteAnchorName","_options","renderFootnoteCaption","renderFootnoteRef","caption","renderFootnoteBlockOpen","_tokens","_index","renderFootnoteBlockClose","renderFootnoteOpen","renderFootnoteClose","renderFootnoteAnchor","footnoteDef","offset","ch","label","Token","oldBMark","oldTShift","oldSCount","oldParentType","posAfterColon","initial","footnoteInline","footnoteId","labelStart","labelEnd","parseLinkLabel","footnoteRef","footnoteSubId","footnoteTail","lastParagraph","current","currentLabel","insideRef","refTokens","stateToken","list","length","footnote","relativePath","ensureLeadingSlash","localePath","resolveLocalePath","imageMark","light","dark","originalImageRender","src","parseNextNumber","result","parseImageSize","width","height","imageSizeRule","oldPos","href","ref","imageSize","isValidDelim","prevChar","inlineTex","blockTex","firstLine","lastLine","next","lastPos","found","tex","render","NEWLINES_RE","UNESCAPE_RE","setTokenAttr","getParentTokenIndex","targetLevel","isInlineToken","isParagraphToken","isListItemToken","escapeHtml","unsafeHTML","require","createRequire","katexInline","Katex","error","katexBlock","errorCode","katex","mhchem","userOptions","katexOptions","displayMode","renderMath","documentOptions","adaptor","liteAdaptor","RegisterHTMLHandler","mathDocument","MathJax","html","stylesheet","juice","mathjax","TeX","AllPackages","CHTML","SVG","lazyLoad","tokenize","scanned","postProcess","delimiters","loneMarkers","startDelim","endDelim","mark","tokensMeta","curr","tokenMeta","SYNTAX_RE","handleInclude","filePath","lineStart","lineEnd","cwd","includedFiles","resolvedPath","realPath","fs","dirName","resolveInclude","line","includePath","actualPath","createIncludeCoreRule","SYNTAX_PUSH_RE","SYNTAX_POP_RE","includePushRule","_","includePopRule","resolveRelatedLink","includedPaths","attrIndex","url","includeDir","include","getPath","deep","resolveLinkPath","resolveImagePath","defaultRender","mermaidRender","mermaidHackRender","mermaid","AT_MARKER","VALID_MARKERS","getPlaygroundRule","atMarkerRule","markerName","atMarker","playground","propsGetter","playgroundData","hash","currentKey","foundSettings","props","e","compress","o","r","s","p","u","c","a","l","f","h","d","m","v","compressToEncodedURIComponent","optionDeclarations","getURL","compilerOptions","queryString","option","getTSPlaygroundPreset","service","files","settings","tsfiles","link","deepAssign","VUE_SUPPORTED_EXTENSIONS","getVuePlaygroundPreset","localSettings","ext","importMap","uml","open","close","OPEN_MARKER","CLOSE_MARKER","umlRule","closeMarkerMatched","contents","presentation","subscriptRender","sub","superscriptRender","sup","startsWithTodoMarkdown","isTaskListItem","generateCheckbox","disabled","checkbox","beginLabel","endLabel","todoify","tasklist","vPre","scanTokens","skipContents","len","matcher","tokenPrev","tokenNext","stylize","noStylize","DEFAULT_VUE_PLAYGROUND_OPTIONS","encodeFiles","vuePlayground","legacyCodeDemo","legacyCodeGroup","isActive","legacyFlowchart","markdownEnhanceLocales","__dirname","getDirname","CLIENT_FOLDER","ensureEndingSlash","prepareConfigFile","legacy","configImport","enhance","getStatus","gfm","prepareRevealPluginFile","revealPlugins","packages","mdEnhancePlugin","locales","getLocales","chartEnable","echartsEnable","flowchartEnable","footnoteEnable","imageMarkEnable","tasklistEnable","mermaidEnable","presentationEnable","katexEnable","mathjaxEnable","vuePlaygroundEnable","shouldCheckLinks","useSassPalettePlugin","initialized","addViteSsrNoExternal","addCustomElement","addViteOptimizeDepsInclude","addViteSsrExternal","addViteOptimizeDepsExclude","plugin","chainWebpack","presets","preset"],"mappings":"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"}