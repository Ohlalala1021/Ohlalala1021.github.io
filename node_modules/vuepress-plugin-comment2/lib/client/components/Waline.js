import{usePageFrontmatter as g,usePageLang as h,withBase as m}from"@vuepress/client";import{Waline as w}from"@waline/client/dist/component.mjs";import{pageviewCount as d}from"@waline/client/dist/pageview.mjs";import{defineComponent as L,computed as r,onMounted as C,watch as E,h as u}from"vue";import{useRoute as N}from"vue-router";import{useLocaleConfig as W}from"vuepress-shared/lib/client";import"@waline/client/dist/waline.css";import"../styles/waline.scss";const e=COMMENT_OPTIONS,k=WALINE_LOCALES,i=Boolean(e.serverURL);WALINE_META&&import("@waline/client/dist/waline-meta.css");var A=L({name:"WalineComment",setup(){const a=N(),l=g(),p=h(),s=W(k);let t;const c=r(()=>{if(!i)return!1;const n=e.comment!==!1,o=l.value.comment;return Boolean(o)||n!==!1&&o!==!1}),v=r(()=>{if(!i)return!1;const n=e.pageview!==!1,o=l.value.pageview;return Boolean(o)||n!==!1&&o!==!1}),f=r(()=>({lang:p.value==="zh-CN"?"zh-CN":"en",locale:{...s.value,...e.locale||{}},emoji:["//unpkg.com/@waline/emojis@1.1.0/weibo","//unpkg.com/@waline/emojis@1.1.0/bilibili"],dark:"html.dark",...e,path:m(a.path)}));return C(()=>{E(()=>a.path,()=>{t==null||t(),v.value&&setTimeout(()=>{t=d({serverURL:e.serverURL,path:m(a.path)})},e.delay||500)},{immediate:!0})}),()=>c.value?u("div",{class:"waline-wrapper"},i?u(w,f.value):[]):null}});export{A as default};
//# sourceMappingURL=Waline.js.map
