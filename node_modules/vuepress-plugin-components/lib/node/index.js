import{useSassPalettePlugin as k}from"vuepress-plugin-sass-palette";import{Logger as b,getLocales as h,addViteSsrNoExternal as $}from"vuepress-shared";import{ensureEndingSlash as y}from"@vuepress/shared";import{getDirname as j,path as C}from"@vuepress/utils";const f={"/en/":{backToTop:"Back to top"},"/zh/":{backToTop:"返回顶部"},"/zh-tw/":{backToTop:"返回頂部"},"/de-at/":{backToTop:"Zurück nach oben."},"/vi/":{backToTop:"Trở lại đầu trang"},"/uk/":{backToTop:"Повернутися до початку"},"/ru/":{backToTop:"Вернуться к началу"},"/br/":{backToTop:"Volta ao topo"},"/pl/":{backToTop:"Wróć na górę"},"/sk/":{backToTop:"Back to top"},"/fr/":{backToTop:"Back to top"},"/es/":{backToTop:"Volver arriba"},"/ja/":{backToTop:"このページのトップへ戻る"}},u=new b("vuepress-plugin-components"),B=(o="")=>o==="fontawesome"||o.match(/^(?:https:)?\/\/kit\.fontawesome\.com\//)?"fas fa-":o==="iconfont"||o.match(/^(?:https:)?\/\/at\.alicdn\.com\/t\//)?"iconfont icon-":"",P=j(import.meta.url),p=y(C.resolve(P,"../client")),S=["Badge","BiliBili","CodePen","FontIcon","PDF","StackBlitz","VideoPlayer","YouTube"],x=o=>{if(o==="fontawesome")return{type:"script",content:"https://kit.fontawesome.com/ca37c296c5.js"};if(o==="iconfont")return{type:"style",content:'@import url("//at.alicdn.com/t/font_2410206_a0xb9hku9iu.css");'};const t=o.match(/^(?:https?:)?\/\//g)?o:`//${o}`;return t.endsWith(".css")?{type:"style",content:`@import url("${o}");`}:t.endsWith(".js")?{type:"script",content:o}:(u.error(`Can not recognize icon link: "${o}"`),null)},v=(o,t)=>{let n="",s="",i="",a="",r=!1,c=!1,m=!1;return t.components.forEach(e=>{if(S.includes(e)&&(n+=`import ${e} from "${p}components/${e}.js";
`,s+=`app.component("${e}", ${e});
`),e==="FontIcon"&&t.iconAssets){const T=x(t.iconAssets);if(T){const{type:g,content:l}=T;g==="script"?(c=!0,i+=`useScriptTag(\`${l}\`);
`):(m=!0,i+=`useStyleTag(\`${l}\`, { id: "icon-assets" });
`)}}}),typeof t.addThis=="string"&&(c=!0,i+=`useScriptTag(\`//s7.addthis.com/js/300/addthis_widget.js#pubid=${t.addThis}\`);
`),t.backToTop&&(r=!0,n+=`import BackToTop from "${p}components/BackToTop.js";
`,a+=`() => h(BackToTop, { threshold: ${typeof t.backToTop=="number"?t.backToTop:300} }),
`),o.writeTemp("components/config.js",`${c?`import { useScriptTag } from "${p}composables/index.js";
`:""}${m?`import { useStyleTag } from "${p}composables/index.js";
`:""}${r?`import { h } from "vue";
`:""}import { defineClientConfig } from "@vuepress/client";
${n}

export default defineClientConfig({
  enhance: ({ app }) => {
${s.split(`
`).map(e=>`    ${e}`).join(`
`)}
  },
  setup: () => {
${i.split(`
`).map(e=>`    ${e}`).join(`
`)}
  },
  rootComponents: [
${a.split(`
`).map(e=>`    ${e}`).join(`
`)}
  ],
});`)},d=o=>t=>(t.env.isDebug&&u.info(`Options: ${o.toString()}`),k(t,{id:"hope"}),{name:"vuepress-plugin-components",define:{BACK_TO_TOP_LOCALES:h({app:t,name:"backToTop",default:f,config:o.backToTopLocales}),ICON_PREFIX:typeof o.iconPrefix=="string"?o.iconPrefix:B(o.iconAssets)},extendsBundlerOptions:(n,s)=>{$({app:s,config:n},"vuepress-shared")},clientConfigFile:n=>v(n,o)});export{f as backToTopLocales,d as componentsPlugin,d as default};
//# sourceMappingURL=index.js.map
