{"version":3,"file":"YouTube.js","sources":["../../../src/client/components/YouTube.ts"],"sourcesContent":["import { computed, defineComponent, h } from \"vue\";\nimport { usePageLang } from \"@vuepress/client\";\nimport type { VNode } from \"vue\";\n\nimport \"../styles/youtube.scss\";\n\nexport default defineComponent({\n  name: \"YouTube\",\n\n  props: {\n    id: {\n      type: String,\n      default: \"\",\n    },\n\n    height: {\n      type: [String, Number],\n      default: 400,\n    },\n\n    autoplay: Boolean,\n    loop: Boolean,\n    showCc: Boolean,\n    showAnnotations: Boolean,\n\n    start: {\n      type: Number,\n      default: undefined,\n    },\n\n    end: {\n      type: Number,\n      default: undefined,\n    },\n\n    defaultCcLang: {\n      type: String,\n      default: \"\",\n    },\n\n    uiLang: {\n      type: String,\n      default: \"\",\n    },\n\n    listType: {\n      type: String,\n      default: \"\",\n    },\n\n    list: {\n      type: String,\n      default: \"\",\n    },\n\n    playlist: {\n      type: String,\n      default: \"\",\n    },\n\n    disableControls: Boolean,\n    disableFullscreen: Boolean,\n    disableKeyboard: Boolean,\n  },\n\n  setup(props) {\n    const lang = usePageLang();\n    const coreURL = computed(() =>\n      props.id\n        ? `${props.id}?`\n        : props.listType === \"playlist\" && props.list\n        ? `?listType=playlist&list=${\n            props.list.startsWith(\"PL\") ? props.list : `PL${props.list}`\n          }&`\n        : null\n    );\n\n    const params = computed(() => {\n      const params = new URLSearchParams();\n\n      if (props.autoplay) params.set(\"autoplay\", \"1\");\n      if (props.loop) params.set(\"loop\", \"1\");\n      if (props.showCc) params.set(\"cc_load_policy\", \"1\");\n      if (props.showAnnotations) params.set(\"iv_load_policy\", \"3\");\n\n      if (props.start) params.set(\"start\", props.start.toString());\n      if (props.end) params.set(\"end\", props.end.toString());\n\n      params.set(\"hl\", props.uiLang || lang.value);\n      params.set(\"cc_lang_pref\", props.defaultCcLang || lang.value);\n      params.set(\"color\", \"white\");\n\n      if (props.disableControls) params.set(\"controls\", \"0\");\n      if (props.disableFullscreen) params.set(\"fs\", \"0\");\n      if (props.disableKeyboard) params.set(\"disablekb\", \"1\");\n\n      if (props.playlist) params.set(\"playlist\", props.playlist);\n\n      return params.toString();\n    });\n\n    return (): VNode | null =>\n      coreURL.value\n        ? h(\"iframe\", {\n            src: `https://www.youtube.com/embed/${coreURL.value}${params.value}`,\n            class: \"youtube-iframe\",\n            allow:\n              \"accelerometer; autoplay; clipboard-write; encrypted-media; fullscreen; gyroscope; picture-in-picture\",\n            style: {\n              height:\n                typeof props.height === \"string\"\n                  ? props.height\n                  : `${props.height}px`,\n            },\n          })\n        : null;\n  },\n});\n"],"names":["defineComponent","props","lang","usePageLang","coreURL","computed","params","h"],"mappings":"yIAMA,IAAeA,EAAAA,EAAgB,CAC7B,KAAM,UAEN,MAAO,CACL,GAAI,CACF,KAAM,OACN,QAAS,EACX,EAEA,OAAQ,CACN,KAAM,CAAC,OAAQ,MAAM,EACrB,QAAS,GACX,EAEA,SAAU,QACV,KAAM,QACN,OAAQ,QACR,gBAAiB,QAEjB,MAAO,CACL,KAAM,OACN,QAAS,MACX,EAEA,IAAK,CACH,KAAM,OACN,QAAS,MACX,EAEA,cAAe,CACb,KAAM,OACN,QAAS,EACX,EAEA,OAAQ,CACN,KAAM,OACN,QAAS,EACX,EAEA,SAAU,CACR,KAAM,OACN,QAAS,EACX,EAEA,KAAM,CACJ,KAAM,OACN,QAAS,EACX,EAEA,SAAU,CACR,KAAM,OACN,QAAS,EACX,EAEA,gBAAiB,QACjB,kBAAmB,QACnB,gBAAiB,OACnB,EAEA,MAAMC,EAAO,CACX,MAAMC,EAAOC,EAAY,EACnBC,EAAUC,EAAS,IACvBJ,EAAM,GACF,GAAGA,EAAM,MACTA,EAAM,WAAa,YAAcA,EAAM,KACvC,2BACEA,EAAM,KAAK,WAAW,IAAI,EAAIA,EAAM,KAAO,KAAKA,EAAM,UAExD,IACN,EAEMK,EAASD,EAAS,IAAM,CAC5B,MAAMC,EAAS,IAAI,gBAEnB,OAAIL,EAAM,UAAUK,EAAO,IAAI,WAAY,GAAG,EAC1CL,EAAM,MAAMK,EAAO,IAAI,OAAQ,GAAG,EAClCL,EAAM,QAAQK,EAAO,IAAI,iBAAkB,GAAG,EAC9CL,EAAM,iBAAiBK,EAAO,IAAI,iBAAkB,GAAG,EAEvDL,EAAM,OAAOK,EAAO,IAAI,QAASL,EAAM,MAAM,SAAA,CAAU,EACvDA,EAAM,KAAKK,EAAO,IAAI,MAAOL,EAAM,IAAI,SAAU,CAAA,EAErDK,EAAO,IAAI,KAAML,EAAM,QAAUC,EAAK,KAAK,EAC3CI,EAAO,IAAI,eAAgBL,EAAM,eAAiBC,EAAK,KAAK,EAC5DI,EAAO,IAAI,QAAS,OAAO,EAEvBL,EAAM,iBAAiBK,EAAO,IAAI,WAAY,GAAG,EACjDL,EAAM,mBAAmBK,EAAO,IAAI,KAAM,GAAG,EAC7CL,EAAM,iBAAiBK,EAAO,IAAI,YAAa,GAAG,EAElDL,EAAM,UAAUK,EAAO,IAAI,WAAYL,EAAM,QAAQ,EAElDK,EAAO,SAChB,CAAA,CAAC,EAED,MAAO,IACLF,EAAQ,MACJG,EAAE,SAAU,CACV,IAAK,iCAAiCH,EAAQ,QAAQE,EAAO,QAC7D,MAAO,iBACP,MACE,uGACF,MAAO,CACL,OACE,OAAOL,EAAM,QAAW,SACpBA,EAAM,OACN,GAAGA,EAAM,UACjB,CACF,CAAC,EACD,IACR,CACF,CAAC"}